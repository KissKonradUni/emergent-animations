(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const De=!1;var ye=Array.isArray,In=Array.prototype.indexOf,xe=Array.from,Fn=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,Xe=Object.getOwnPropertyDescriptors,Dn=Object.prototype,Bn=Array.prototype,be=Object.getPrototypeOf,Be=Object.isExtensible;const Qt=()=>{};function Nn(e){return e()}function fe(e){for(var t=0;t<e.length;t++)e[t]()}const L=2,Ke=4,Zt=8,Te=16,K=32,pt=64,Ot=128,B=256,qt=512,I=1024,V=2048,ut=4096,Y=8192,Jt=16384,On=32768,Ct=65536,Qe=1<<19,Ze=1<<20,ce=1<<21,ct=Symbol("$state"),qn=Symbol("");function Je(e){return e===this.v}function Ln(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function je(e){return!Ln(e,this.v)}function Hn(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Rn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Vn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Un(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let $t=!1,Xn=!1;function Kn(){$t=!0}const Qn=1,Zn=2,Jn=16,jn=1,tr=2,z=Symbol(),er="http://www.w3.org/1999/xhtml";function tn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let g=null;function Ne(e){g=e}function nr(e){return en().get(e)}function rr(e,t){return en().set(e,t),t}function G(e,t=!1,n){var r=g={p:g,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};$t&&!t&&(g.l={s:null,u:null,r1:[],r2:xt(!1)}),cr(()=>{r.d=!0})}function U(e){const t=g;if(t!==null){const o=t.e;if(o!==null){var n=b,r=x;t.e=null;try{for(var s=0;s<o.length;s++){var i=o[s];vt(i.effect),tt(i.reaction),Ee(i.fn)}}finally{vt(n),tt(r)}}g=t.p,t.m=!0}return{}}function jt(){return!$t||g!==null&&g.l===null}function en(e){return g===null&&tn(),g.c??(g.c=new Map(sr(g)||void 0))}function sr(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}function J(e){if(typeof e!="object"||e===null||ct in e)return e;const t=be(e);if(t!==Dn&&t!==Bn)return e;var n=new Map,r=ye(e),s=O(0),i=x,o=a=>{var l=x;tt(i);var f=a();return tt(l),f};return r&&n.set("length",O(e.length)),new Proxy(e,{defineProperty(a,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Gn();var u=n.get(l);return u===void 0?(u=o(()=>O(f.value)),n.set(l,u)):M(u,o(()=>J(f.value))),!0},deleteProperty(a,l){var f=n.get(l);if(f===void 0)l in a&&(n.set(l,o(()=>O(z))),ae(s));else{if(r&&typeof l=="string"){var u=n.get("length"),c=Number(l);Number.isInteger(c)&&c<u.v&&M(u,c)}M(f,z),ae(s)}return!0},get(a,l,f){var v;if(l===ct)return e;var u=n.get(l),c=l in a;if(u===void 0&&(!c||(v=gt(a,l))!=null&&v.writable)&&(u=o(()=>O(J(c?a[l]:z))),n.set(l,u)),u!==void 0){var h=T(u);return h===z?void 0:h}return Reflect.get(a,l,f)},getOwnPropertyDescriptor(a,l){var f=Reflect.getOwnPropertyDescriptor(a,l);if(f&&"value"in f){var u=n.get(l);u&&(f.value=T(u))}else if(f===void 0){var c=n.get(l),h=c==null?void 0:c.v;if(c!==void 0&&h!==z)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return f},has(a,l){var h;if(l===ct)return!0;var f=n.get(l),u=f!==void 0&&f.v!==z||Reflect.has(a,l);if(f!==void 0||b!==null&&(!u||(h=gt(a,l))!=null&&h.writable)){f===void 0&&(f=o(()=>O(u?J(a[l]):z)),n.set(l,f));var c=T(f);if(c===z)return!1}return u},set(a,l,f,u){var m;var c=n.get(l),h=l in a;if(r&&l==="length")for(var v=f;v<c.v;v+=1){var _=n.get(v+"");_!==void 0?M(_,z):v in a&&(_=o(()=>O(z)),n.set(v+"",_))}c===void 0?(!h||(m=gt(a,l))!=null&&m.writable)&&(c=o(()=>O(void 0)),M(c,o(()=>J(f))),n.set(l,c)):(h=c.v!==z,M(c,o(()=>J(f))));var E=Reflect.getOwnPropertyDescriptor(a,l);if(E!=null&&E.set&&E.set.call(u,f),!h){if(r&&typeof l=="string"){var F=n.get("length"),y=Number(l);Number.isInteger(y)&&y>=F.v&&M(F,y+1)}ae(s)}return!0},ownKeys(a){T(s);var l=Reflect.ownKeys(a).filter(c=>{var h=n.get(c);return h===void 0||h.v!==z});for(var[f,u]of n)u.v!==z&&!(f in a)&&l.push(f);return l},setPrototypeOf(){Un()}})}function ae(e,t=1){M(e,e.v+t)}function te(e){var t=L|V,n=x!==null&&(x.f&L)!==0?x:null;return b===null||n!==null&&(n.f&B)!==0?t|=B:b.f|=Ze,{ctx:g,deps:null,effects:null,equals:Je,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??b}}function Oe(e){const t=te(e);return gn(t),t}function dt(e){const t=te(e);return t.equals=je,t}function nn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)X(t[n])}}function ir(e){for(var t=e.parent;t!==null;){if((t.f&L)===0)return t;t=t.parent}return null}function rn(e){var t,n=b;vt(ir(e));try{nn(e),t=Tn(e)}finally{vt(n)}return t}function sn(e){var t=rn(e),n=(j||(e.f&B)!==0)&&e.deps!==null?ut:I;H(e,n),e.equals(t)||(e.v=t,e.wv=xn())}const yt=new Map;function xt(e,t){var n={f:0,v:e,reactions:null,equals:Je,rv:0,wv:0};return n}function O(e,t){const n=xt(e);return gn(n),n}function lr(e,t=!1){var r;const n=xt(e);return t||(n.equals=je),$t&&g!==null&&g.l!==null&&((r=g.l).s??(r.s=[])).push(n),n}function M(e,t,n=!1){x!==null&&!R&&jt()&&(x.f&(L|Te))!==0&&!(A!=null&&A.includes(e))&&Yn();let r=n?J(t):t;return ln(e,r)}function ln(e,t){if(!e.equals(t)){var n=e.v;At?yt.set(e,t):yt.set(e,n),e.v=t,(e.f&L)!==0&&((e.f&V)!==0&&rn(e),H(e,(e.f&B)===0?I:ut)),e.wv=xn(),an(e,V),jt()&&b!==null&&(b.f&I)!==0&&(b.f&(K|pt))===0&&(N===null?wr([e]):N.push(e))}return t}function an(e,t){var n=e.reactions;if(n!==null)for(var r=jt(),s=n.length,i=0;i<s;i++){var o=n[i],a=o.f;(a&V)===0&&(!r&&o===b||(H(o,t),(a&(I|B))!==0&&((a&L)!==0?an(o,ut):re(o))))}}let ar=!1;var qe,on,un,fn,cn;function or(){if(qe===void 0){qe=window,on=document,un=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;fn=gt(t,"firstChild").get,cn=gt(t,"nextSibling").get,Be(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Be(n)&&(n.__t=void 0)}}function Pt(e=""){return document.createTextNode(e)}function Lt(e){return fn.call(e)}function ee(e){return cn.call(e)}function S(e,t){return Lt(e)}function St(e,t){{var n=Lt(e);return n instanceof Comment&&n.data===""?ee(n):n}}function C(e,t=1,n=!1){let r=e;for(;t--;)r=ee(r);return r}function ur(e){e.textContent=""}function hn(e){b===null&&x===null&&Wn(),x!==null&&(x.f&B)!==0&&b===null&&Rn(),At&&Hn()}function fr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function _t(e,t,n,r=!0){var s=b,i={ctx:g,deps:null,nodes_start:null,nodes_end:null,f:e|V,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(n)try{$e(i),i.f|=On}catch(l){throw X(i),l}else t!==null&&re(i);var o=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Ze|Ot))===0;if(!o&&r&&(s!==null&&fr(i,s),x!==null&&(x.f&L)!==0)){var a=x;(a.effects??(a.effects=[])).push(i)}return i}function cr(e){const t=_t(Zt,null,!1);return H(t,I),t.teardown=e,t}function he(e){hn();var t=b!==null&&(b.f&K)!==0&&g!==null&&!g.m;if(t){var n=g;(n.e??(n.e=[])).push({fn:e,effect:b,reaction:x})}else{var r=Ee(e);return r}}function hr(e){return hn(),dn(e)}function dr(e){const t=_t(pt,e,!0);return(n={})=>new Promise(r=>{n.outro?bt(t,()=>{X(t),r(void 0)}):(X(t),r(void 0))})}function Ee(e){return _t(Ke,e,!1)}function dn(e){return _t(Zt,e,!0)}function at(e,t=[],n=te){const r=t.map(n);return mt(()=>e(...r.map(T)))}function mt(e,t=0){return _t(Zt|Te|t,e,!0)}function ot(e,t=!0){return _t(Zt|K,e,!0,t)}function vn(e){var t=e.teardown;if(t!==null){const n=At,r=x;Le(!0),tt(null);try{t.call(null)}finally{Le(n),tt(r)}}}function pn(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;(n.f&pt)!==0?n.parent=null:X(n,t),n=r}}function vr(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&K)===0&&X(t),t=n}}function X(e,t=!0){var n=!1;(t||(e.f&Qe)!==0)&&e.nodes_start!==null&&(pr(e.nodes_start,e.nodes_end),n=!0),pn(e,t&&!n),Gt(e,0),H(e,Jt);var r=e.transitions;if(r!==null)for(const i of r)i.stop();vn(e);var s=e.parent;s!==null&&s.first!==null&&_n(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function pr(e,t){for(;e!==null;){var n=e===t?null:ee(e);e.remove(),e=n}}function _n(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function bt(e,t){var n=[];Ce(e,n,!0),mn(n,()=>{X(e),t&&t()})}function mn(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var s of e)s.out(r)}else t()}function Ce(e,t,n){if((e.f&Y)===0){if(e.f^=Y,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var s=r.next,i=(r.f&Ct)!==0||(r.f&K)!==0;Ce(r,t,i?n:!1),r=s}}}function Ht(e){wn(e,!0)}function wn(e,t){if((e.f&Y)!==0){e.f^=Y,(e.f&I)===0&&(e.f^=I),kt(e)&&(H(e,V),re(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Ct)!==0||(n.f&K)!==0;wn(n,s?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Rt=[];function _r(){var e=Rt;Rt=[],fe(e)}function mr(e){Rt.length===0&&queueMicrotask(_r),Rt.push(e)}let Ft=!1,de=!1,Wt=null,lt=!1,At=!1;function Le(e){At=e}let Dt=[];let x=null,R=!1;function tt(e){x=e}let b=null;function vt(e){b=e}let A=null;function gn(e){x!==null&&x.f&ce&&(A===null?A=[e]:A.push(e))}let P=null,D=0,N=null;function wr(e){N=e}let yn=1,Vt=0,j=!1;function xn(){return++yn}function kt(e){var c;var t=e.f;if((t&V)!==0)return!0;if((t&ut)!==0){var n=e.deps,r=(t&B)!==0;if(n!==null){var s,i,o=(t&qt)!==0,a=r&&b!==null&&!j,l=n.length;if(o||a){var f=e,u=f.parent;for(s=0;s<l;s++)i=n[s],(o||!((c=i==null?void 0:i.reactions)!=null&&c.includes(f)))&&(i.reactions??(i.reactions=[])).push(f);o&&(f.f^=qt),a&&u!==null&&(u.f&B)===0&&(f.f^=B)}for(s=0;s<l;s++)if(i=n[s],kt(i)&&sn(i),i.wv>e.wv)return!0}(!r||b!==null&&!j)&&H(e,I)}return!1}function gr(e,t){for(var n=t;n!==null;){if((n.f&Ot)!==0)try{n.fn(e);return}catch{n.f^=Ot}n=n.parent}throw Ft=!1,e}function He(e){return(e.f&Jt)===0&&(e.parent===null||(e.parent.f&Ot)===0)}function ne(e,t,n,r){if(Ft){if(n===null&&(Ft=!1),He(t))throw e;return}if(n!==null&&(Ft=!0),gr(e,t),He(t))throw e}function bn(e,t,n=!0){var r=e.reactions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s];A!=null&&A.includes(e)||((i.f&L)!==0?bn(i,t,!1):t===i&&(n?H(i,V):(i.f&I)!==0&&H(i,ut),re(i)))}}function Tn(e){var v;var t=P,n=D,r=N,s=x,i=j,o=A,a=g,l=R,f=e.f;P=null,D=0,N=null,j=(f&B)!==0&&(R||!lt||x===null),x=(f&(K|pt))===0?e:null,A=null,Ne(e.ctx),R=!1,Vt++,e.f|=ce;try{var u=(0,e.fn)(),c=e.deps;if(P!==null){var h;if(Gt(e,D),c!==null&&D>0)for(c.length=D+P.length,h=0;h<P.length;h++)c[D+h]=P[h];else e.deps=c=P;if(!j)for(h=D;h<c.length;h++)((v=c[h]).reactions??(v.reactions=[])).push(e)}else c!==null&&D<c.length&&(Gt(e,D),c.length=D);if(jt()&&N!==null&&!R&&c!==null&&(e.f&(L|ut|V))===0)for(h=0;h<N.length;h++)bn(N[h],e);return s!==null&&s!==e&&(Vt++,N!==null&&(r===null?r=N:r.push(...N))),u}finally{P=t,D=n,N=r,x=s,j=i,A=o,Ne(a),R=l,e.f^=ce}}function yr(e,t){let n=t.reactions;if(n!==null){var r=In.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&L)!==0&&(P===null||!P.includes(t))&&(H(t,ut),(t.f&(B|qt))===0&&(t.f^=qt),nn(t),Gt(t,0))}function Gt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)yr(e,n[r])}function $e(e){var t=e.f;if((t&Jt)===0){H(e,I);var n=b,r=g,s=lt;b=e,lt=!0;try{(t&Te)!==0?vr(e):pn(e),vn(e);var i=Tn(e);e.teardown=typeof i=="function"?i:null,e.wv=yn;var o=e.deps,a;De&&Xn&&e.f&V}catch(l){ne(l,e,n,r||e.ctx)}finally{lt=s,b=n}}}function xr(){try{Vn()}catch(e){if(Wt!==null)ne(e,Wt,null);else throw e}}function br(){var e=lt;try{var t=0;for(lt=!0;Dt.length>0;){t++>1e3&&xr();var n=Dt,r=n.length;Dt=[];for(var s=0;s<r;s++){var i=Er(n[s]);Tr(i)}yt.clear()}}finally{de=!1,lt=e,Wt=null}}function Tr(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if((r.f&(Jt|Y))===0)try{kt(r)&&($e(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?_n(r):r.fn=null))}catch(s){ne(s,r,null,r.ctx)}}}function re(e){de||(de=!0,queueMicrotask(br));for(var t=Wt=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(pt|K))!==0){if((n&I)===0)return;t.f^=I}}Dt.push(t)}function Er(e){for(var t=[],n=e;n!==null;){var r=n.f,s=(r&(K|pt))!==0,i=s&&(r&I)!==0;if(!i&&(r&Y)===0){if((r&Ke)!==0)t.push(n);else if(s)n.f^=I;else try{kt(n)&&$e(n)}catch(l){ne(l,n,null,n.ctx)}var o=n.first;if(o!==null){n=o;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}return t}function T(e){var t=e.f,n=(t&L)!==0;if(x!==null&&!R){if(!(A!=null&&A.includes(e))){var r=x.deps;e.rv<Vt&&(e.rv=Vt,P===null&&r!==null&&r[D]===e?D++:P===null?P=[e]:(!j||!P.includes(e))&&P.push(e))}}else if(n&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&(i.f&B)===0&&(s.f^=B)}return n&&(s=e,kt(s)&&sn(s)),At&&yt.has(e)?yt.get(e):e.v}function Pe(e){var t=R;try{return R=!0,e()}finally{R=t}}const Cr=-7169;function H(e,t){e.f=e.f&Cr|t}function $r(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ct in e)ve(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ct in n&&ve(n)}}}function ve(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{ve(e[r],t)}catch{}const n=be(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Xe(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Pr=["touchstart","touchmove"];function Sr(e){return Pr.includes(e)}const En=new Set,pe=new Set;function Se(e){for(var t=0;t<e.length;t++)En.add(e[t]);for(var n of pe)n(e)}function Mt(e){var m;var t=this,n=t.ownerDocument,r=e.type,s=((m=e.composedPath)==null?void 0:m.call(e))||[],i=s[0]||e.target,o=0,a=e.__root;if(a){var l=s.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;l<=f&&(o=l)}if(i=s[o]||e.target,i!==t){Fn(e,"currentTarget",{configurable:!0,get(){return i||n}});var u=x,c=b;tt(null),vt(null);try{for(var h,v=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var E=i["__"+r];if(E!=null&&(!i.disabled||e.target===i))if(ye(E)){var[F,...y]=E;F.apply(i,[e,...y])}else E.call(i,e)}catch(k){h?v.push(k):h=k}if(e.cancelBubble||_===t||_===null)break;i=_}if(h){for(let k of v)queueMicrotask(()=>{throw k});throw h}}finally{e.__root=t,delete e.currentTarget,tt(u),vt(c)}}}function Ar(e){var t;t=document.head.appendChild(Pt());try{mt(()=>e(t),Qe)}finally{}}function kr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ut(e,t){var n=b;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&jn)!==0,r=(t&tr)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=kr(i?e:"<!>"+e),n||(s=Lt(s)));var o=r||un?document.importNode(s,!0):s.cloneNode(!0);if(n){var a=Lt(o),l=o.lastChild;Ut(a,l)}else Ut(o,o);return o}}function q(e=""){{var t=Pt(e+"");return Ut(t,t),t}}function Cn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Pt();return e.append(t,n),Ut(t,n),e}function w(e,t){e!==null&&e.before(t)}function Yt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function zr(e,t){return Mr(e,t)}const ft=new Map;function Mr(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:o=!0}){or();var a=new Set,l=c=>{for(var h=0;h<c.length;h++){var v=c[h];if(!a.has(v)){a.add(v);var _=Sr(v);t.addEventListener(v,Mt,{passive:_});var E=ft.get(v);E===void 0?(document.addEventListener(v,Mt,{passive:_}),ft.set(v,1)):ft.set(v,E+1)}}};l(xe(En)),pe.add(l);var f=void 0,u=dr(()=>{var c=n??t.appendChild(Pt());return ot(()=>{if(i){G({});var h=g;h.c=i}s&&(r.$$events=s),f=e(c,r)||{},i&&U()}),()=>{var _;for(var h of a){t.removeEventListener(h,Mt);var v=ft.get(h);--v===0?(document.removeEventListener(h,Mt),ft.delete(h)):ft.set(h,v)}pe.delete(l),c!==n&&((_=c.parentNode)==null||_.removeChild(c))}});return Ir.set(f,u),f}let Ir=new WeakMap;function Ae(e,t,[n,r]=[0,0]){var s=e,i=null,o=null,a=z,l=n>0?Ct:0,f=!1;const u=(h,v=!0)=>{f=!0,c(v,h)},c=(h,v)=>{a!==(a=h)&&(a?(i?Ht(i):v&&(i=ot(()=>v(s))),o&&bt(o,()=>{o=null})):(o?Ht(o):v&&(o=ot(()=>v(s,[n+1,r]))),i&&bt(i,()=>{i=null})))};mt(()=>{f=!1,t(u),f||c(null,null)},l)}function Fr(e,t){return t}function Dr(e,t,n,r){for(var s=[],i=t.length,o=0;o<i;o++)Ce(t[o].e,s,!0);var a=i>0&&s.length===0&&n!==null;if(a){var l=n.parentNode;ur(l),l.append(n),r.clear(),Z(e,t[0].prev,t[i-1].next)}mn(s,()=>{for(var f=0;f<i;f++){var u=t[f];a||(r.delete(u.k),Z(e,u.prev,u.next)),X(u.e,!a)}})}function Br(e,t,n,r,s,i=null){var o=e,a={flags:t,items:new Map,first:null};{var l=e;o=l.appendChild(Pt())}var f=null,u=!1,c=dt(()=>{var h=n();return ye(h)?h:h==null?[]:xe(h)});mt(()=>{var h=T(c),v=h.length;u&&v===0||(u=v===0,Nr(h,a,o,s,t,r,n),i!==null&&(v===0?f?Ht(f):f=ot(()=>i(o)):f!==null&&bt(f,()=>{f=null})),T(c))})}function Nr(e,t,n,r,s,i,o){var a=e.length,l=t.items,f=t.first,u=f,c,h=null,v=[],_=[],E,F,y,m;for(m=0;m<a;m+=1){if(E=e[m],F=i(E,m),y=l.get(F),y===void 0){var k=u?u.e.nodes_start:n;h=qr(k,t,h,h===null?t.first:h.next,E,F,m,r,s,o),l.set(F,h),v=[],_=[],u=h.next;continue}if(Or(y,E,m),(y.e.f&Y)!==0&&Ht(y.e),y!==u){if(c!==void 0&&c.has(y)){if(v.length<_.length){var zt=_[0],Q;h=zt.prev;var Fe=v[0],ie=v[v.length-1];for(Q=0;Q<v.length;Q+=1)Re(v[Q],zt,n);for(Q=0;Q<_.length;Q+=1)c.delete(_[Q]);Z(t,Fe.prev,ie.next),Z(t,h,Fe),Z(t,ie,zt),u=zt,h=ie,m-=1,v=[],_=[]}else c.delete(y),Re(y,u,n),Z(t,y.prev,y.next),Z(t,y,h===null?t.first:h.next),Z(t,h,y),h=y;continue}for(v=[],_=[];u!==null&&u.k!==F;)(u.e.f&Y)===0&&(c??(c=new Set)).add(u),_.push(u),u=u.next;if(u===null)continue;y=u}v.push(y),h=y,u=y.next}if(u!==null||c!==void 0){for(var le=c===void 0?[]:xe(c);u!==null;)(u.e.f&Y)===0&&le.push(u),u=u.next;var zn=le.length;if(zn>0){var Mn=a===0?n:null;Dr(t,le,Mn,l)}}b.first=t.first&&t.first.e,b.last=h&&h.e}function Or(e,t,n,r){ln(e.v,t),e.i=n}function qr(e,t,n,r,s,i,o,a,l,f){var u=(l&Qn)!==0,c=(l&Jn)===0,h=u?c?lr(s):xt(s):s,v=(l&Zn)===0?o:xt(o),_={i:v,v:h,k:i,a:null,e:null,prev:n,next:r};try{return _.e=ot(()=>a(e,h,v,f),ar),_.e.prev=n&&n.e,_.e.next=r&&r.e,n===null?t.first=_:(n.next=_,n.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function Re(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,s=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var o=ee(i);s.before(i),i=o}}function Z(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function se(e,t,...n){var r=e,s=Qt,i;mt(()=>{s!==(s=t())&&(i&&(X(i),i=null),i=ot(()=>s(r,...n)))},Ct)}function Lr(e,t,n){var r=e,s,i;mt(()=>{s!==(s=t())&&(i&&(bt(i),i=null),s&&(i=ot(()=>n(r,s))))},Ct)}const We=[...` 	
\r\f \v\uFEFF`];function Hr(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,o=0;(o=r.indexOf(s,o))>=0;){var a=o+i;(o===0||We.includes(r[o-1]))&&(a===r.length||We.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function Rr(e,t){return e==null?null:String(e)}function ke(e,t,n,r,s,i){var o=e.__className;if(o!==n||o===void 0){var a=Hr(n,r,i);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(i&&s!==i)for(var l in i){var f=!!i[l];(s==null||f!==!!s[l])&&e.classList.toggle(l,f)}return i}function $n(e,t,n,r){var s=e.__style;if(s!==t){var i=Rr(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const Wr=Symbol("is custom element"),Vr=Symbol("is html");function Bt(e,t,n,r){var s=Gr(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[qn]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Ur(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Gr(e){return e.__attributes??(e.__attributes={[Wr]:e.nodeName.includes("-"),[Vr]:e.namespaceURI===er})}var Ve=new Map;function Ur(e){var t=Ve.get(e.nodeName);if(t)return t;Ve.set(e.nodeName,t=[]);for(var n,r=e,s=Element.prototype;s!==r;){n=Xe(r);for(var i in n)n[i].set&&t.push(i);r=be(r)}return t}function Ge(e,t){return e===t||(e==null?void 0:e[ct])===t}function oe(e={},t,n,r){return Ee(()=>{var s,i;return dn(()=>{s=i,i=[],Pe(()=>{e!==n(...i)&&(t(e,...i),s&&Ge(n(...s),e)&&t(null,...s))})}),()=>{mr(()=>{i&&Ge(n(...i),e)&&t(null,...i)})}}),e}function ze(e=!1){const t=g,n=t.l.u;if(!n)return;let r=()=>$r(t.s);if(e){let s=0,i={};const o=te(()=>{let a=!1;const l=t.s;for(const f in l)l[f]!==i[f]&&(i[f]=l[f],a=!0);return a&&s++,s});r=()=>T(o)}n.b.length&&hr(()=>{Ue(t,r),fe(n.b)}),he(()=>{const s=Pe(()=>n.m.map(Nn));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&he(()=>{Ue(t,r),fe(n.a)})}function Ue(e,t){if(e.l.s)for(const n of e.l.s)T(n);t()}function it(e,t,n,r){var s;s=e[t];var i=r,o=!0,a=()=>(o&&(o=!1,i=r),i);s===void 0&&r!==void 0&&(s=a());var l;return l=()=>{var f=e[t];return f===void 0?a():(o=!0,f)},l}function Pn(e){g===null&&tn(),$t&&g.l!==null?Yr(g).m.push(e):he(()=>{const t=Pe(e);if(typeof t=="function")return t})}function Yr(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Xr="5";var Ye;typeof window<"u"&&((Ye=window.__svelte??(window.__svelte={})).v??(Ye.v=new Set)).add(Xr);Kn();var Kr=$('<a target="_blank" rel="noopener noreferrer" class="svelte-o5z3n1"> </a>'),Qr=$('<section class="page svelte-o5z3n1" id="current-page"><span class="title svelte-o5z3n1"> <!></span> <!></section>');function et(e,t){G(t,!0);let n=it(t,"title",3,"Some Page"),r=it(t,"style",3,""),s=it(t,"extra",3,null);var i=Qr(),o=S(i),a=S(o),l=C(a);{var f=c=>{var h=Kr(),v=S(h);at(()=>{Bt(h,"href",s().href),Yt(v,s().title)}),w(c,h)};Ae(l,c=>{s()&&c(f)})}var u=C(o,2);se(u,()=>t.children??Qt),at(()=>{$n(i,r()),Yt(a,`${n()??""} `)}),w(e,i),U()}var Zr=$('<p>Welcome to the website!</p> <img src="https://picsum.photos/400/300" alt="Random" class="svelte-1yc2abm">',1);function Jr(e){et(e,{title:"Home",children:(t,n)=>{var r=Zr();w(t,r)},$$slots:{default:!0}})}var jr=$("<p>Page not found.</p>");function ts(e){et(e,{title:"Error 404",children:(t,n)=>{var r=jr();w(t,r)},$$slots:{default:!0}})}var es=$('<iframe src="/main.pdf" frameborder="0" title="Thesis PDF" class="svelte-gqw2wc"></iframe>');function ns(e){et(e,{title:"Thesis",extra:{href:"/main.pdf",title:"Open in a new page →"},children:(t,n)=>{var r=es();w(t,r)},$$slots:{default:!0}})}var rs=$("<p>Cool.</p>");function ss(e){et(e,{title:"About",children:(t,n)=>{var r=rs();w(t,r)},$$slots:{default:!0}})}var is=$('<div class="list svelte-161iceo"><!> <!> <!></div>');function ls(e){et(e,{title:"Examples",children:(t,n)=>{var r=is(),s=S(r);W(s,{href:"/examples/functional-animations",cssClass:"example-menu-item",children:(a,l)=>{var f=q("Functional Animations");w(a,f)},$$slots:{default:!0}});var i=C(s,2);W(i,{href:"/examples/frame-animations",cssClass:"example-menu-item",children:(a,l)=>{var f=q("Frame Animations");w(a,f)},$$slots:{default:!0}});var o=C(i,2);W(o,{href:"/examples/cellular-automatas",cssClass:"example-menu-item",children:(a,l)=>{var f=q("Cellular Automatas");w(a,f)},$$slots:{default:!0}}),w(t,r)},$$slots:{default:!0}})}class d{constructor(t=0,n=0){this.x=t,this.y=n}set(t,n){return this.x=t,this.y=n,this}add(t){return new d(this.x+t.x,this.y+t.y)}subtract(t){return new d(this.x-t.x,this.y-t.y)}multiply(t){return new d(this.x*t,this.y*t)}scale(t){return new d(this.x*t.x,this.y*t.y)}lengthSquared(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.lengthSquared())}normalize(){const t=this.length();return t===0?new d(0,0):new d(this.x/t,this.y/t)}dot(t){return this.x*t.x+this.y*t.y}clone(){return new d(this.x,this.y)}static zero(){return new d(0,0)}static one(){return new d(1,1)}}const nt=class nt{constructor(t,n=d.zero(),r=new d(100,100),s=d.one(),i=new d(.5,.5),o=0,a=[]){this._hasDefaultSize=!0,this.position=n,this.rotation=o,this._size=r,this._hasDefaultSize=r.x===100&&r.y===100,this.scale=s,this.pivot=i,this.renderFunction=t,this.children=a}get size(){return this._size}set size(t){this._size=t,this._hasDefaultSize=!1}get hasDefaultSize(){return this._hasDefaultSize}render(t,n=0){if(n>10){console.warn("CanvasObject: Maximum render depth exceeded, stopping rendering to prevent stack overflow.");return}if(t.save(),t.translate(this.position.x,this.position.y),t.scale(this.scale.x,this.scale.y),t.rotate(this.rotation),this.renderFunction(this,t),this.children.forEach(r=>{r.render(t,n+1)}),!nt.debugMode){t.restore();return}t.fillStyle="#00ff00",t.fillRect(-2,-2,4,4),t.strokeStyle="#0000ff",t.lineWidth=1,t.strokeRect(-this.size.x*this.pivot.x,-this.size.y*this.pivot.y,this.size.x,this.size.y),t.restore()}createCopy(t){const n=new nt(this.renderFunction,this.position.clone(),this.size.clone(),this.scale.clone(),this.pivot.clone(),this.rotation);return t?n.children=this.children.map(r=>r.createCopy(!0)):n.children=[],n}static setDebugMode(t){nt.debugMode=t}static ellipse(t,n=null){return(r,s)=>{s.beginPath(),s.ellipse(-r.size.x*(r.pivot.x-.5),-r.size.y*(r.pivot.y-.5),r.size.x/2,r.size.y/2,0,0,Math.PI*2),s.fillStyle=t,s.fill(),n&&(s.strokeStyle=n,s.stroke())}}static rectangle(t,n=null){return(r,s)=>{s.beginPath(),s.rect(-r.size.x*r.pivot.x,-r.size.y*r.pivot.y,r.size.x,r.size.y),s.fillStyle=t,s.fill(),n&&(s.strokeStyle=n,s.stroke())}}static roundedRectangle(t,n=null,r=10){return(s,i)=>{i.beginPath(),i.roundRect(-s.size.x*s.pivot.x,-s.size.y*s.pivot.y,s.size.x,s.size.y,r),i.fillStyle=t,i.fill(),n&&(i.strokeStyle=n,i.stroke())}}static line(t,n=1){return(r,s)=>{const i=d.one().subtract(r.pivot);s.beginPath(),s.moveTo(-r.size.x*r.pivot.x,-r.size.y*r.pivot.y),s.lineTo(r.size.x*i.x,r.size.y*i.y),s.strokeStyle=t,s.lineWidth=n,s.stroke()}}static image(t){return(n,r)=>{t.isLoaded()&&r.drawImage(t.getImage(),-n.size.x*n.pivot.x,-n.size.y*n.pivot.y,n.size.x,n.size.y)}}static sprite(t,n=()=>0){return(r,s)=>{if(!t.isLoaded())return;const i=n();t.drawFrame(s,i,-r.size.x*r.pivot.x,-r.size.y*r.pivot.y,r.size.x,r.size.y)}}static staticText(t,n="16px monospace, Consolas",r="#000",s="left",i="top"){return nt.dynamicText(()=>t,n,r,s,i)}static dynamicText(t,n="16px monospace, Consolas",r="#000",s="left",i="top"){return(o,a)=>{const l=t();a.font=n,a.fillStyle=r,a.textAlign=s,a.textBaseline=i,o.hasDefaultSize&&(o.size.x=1,o.size.y=1),a.fillText(l,0,0)}}static plotFunction(t,n,r={lower:-5,upper:5},s={lower:-5,upper:5},i=.1,o=()=>0){return(a,l)=>{const f=new d((a.pivot.x-.5)*a.size.x,(a.pivot.y-.5)*a.size.y),u=new d(-a.size.x/2-f.x,-a.size.y/2-f.y),c=1-r.upper/(r.upper-r.lower);if(c>=0&&c<=1){l.beginPath(),l.moveTo(u.x+a.size.x*c,u.y),l.lineTo(u.x+a.size.x*c,u.y+a.size.y),l.strokeStyle="#000",l.lineWidth=2,l.stroke(),l.fillStyle="#000",l.textAlign="left",l.textBaseline="top",l.fillText(s.upper.toString(),u.x+a.size.x*c+5,u.y),l.textAlign="left",l.textBaseline="bottom",l.fillText(s.lower.toString(),u.x+a.size.x*c+5,u.y+a.size.y);for(let m=Math.ceil(s.lower);m<=Math.floor(s.upper);m++){if(m===0)continue;const k=u.y+a.size.y*(1-(m-s.lower)/(s.upper-s.lower));l.beginPath(),l.moveTo(u.x,k),l.lineTo(u.x+a.size.x,k),l.strokeStyle="#00000044",l.lineWidth=2,l.stroke()}}const h=s.upper/(s.upper-s.lower);if(h>=0&&h<=1){l.beginPath(),l.moveTo(u.x,u.y+a.size.y*h),l.lineTo(u.x+a.size.x,u.y+a.size.y*h),l.strokeStyle="#000",l.lineWidth=2,l.stroke(),l.fillStyle="#000",l.textAlign="left",l.textBaseline="top",l.fillText(r.lower.toString(),u.x,u.y+a.size.y*h+5),l.textAlign="right",l.textBaseline="top",l.fillText(r.upper.toString(),u.x+a.size.x,u.y+a.size.y*h+5);for(let m=Math.ceil(r.lower);m<=Math.floor(r.upper);m++){if(m===0)continue;const k=u.x+a.size.x*((m-r.lower)/(r.upper-r.lower));l.beginPath(),l.moveTo(k,u.y),l.lineTo(k,u.y+a.size.y),l.strokeStyle="#00000044",l.lineWidth=2,l.stroke()}}l.beginPath();const v=a.size.x/(r.upper-r.lower),_=a.size.y/(s.upper-s.lower);for(let m=r.lower;m<=r.upper;m+=i){const k=n(m);l.lineTo(u.x+(m-r.lower)*v,u.y+a.size.y-(k-s.lower)*_)}const E=n(r.upper);l.lineTo(u.x+(r.upper-r.lower)*v,u.y+a.size.y-(E-s.lower)*_),l.strokeStyle="#ff5722",l.lineWidth=4,l.stroke();const F=o(),y=n(F);c>=0&&c<=1&&(l.beginPath(),l.ellipse(u.x+a.size.x*c+F*v,u.y+a.size.y*h-y*_,5,5,0,0,Math.PI*2),l.fillStyle="#f00",l.strokeStyle="#fff",l.lineWidth=2,l.fill(),l.stroke()),l.font="20px monospace, Consolas",l.fillStyle="#fff",l.textAlign="center",l.textBaseline="bottom",l.fillText(t,u.x+a.size.x/2,u.y)}}};nt.debugMode=!1;let p=nt;class wt{constructor(t,n,r){this.wrapper=t,this.context=n,this.time=r}render(){}*sequence(){}static provide(){return(t,n,r)=>new this(t,n,r)}}class as{constructor(){this.delta=0,this.now=0}}class os extends wt{constructor(t,n,r){super(t,n,r);const s=t.resolution;this.halfResolution=s.multiply(.5),this.objects={text:new p(p.staticText("Please provide a scene implementation.","32px Consolas, monospace","white","center","middle"),this.halfResolution,s)}}render(){this.objects.text.rotation=Math.sin(this.time.now*5)*Math.PI*.025,this.objects.text.render(this.context)}}const Kt=class Kt{constructor(t,n,r){if(this._time=new as,this._startTime=0,this._resolution=new d(1280,720),this._resolutionScale=1,this._dpi=globalThis.devicePixelRatio||2,this._scene=null,this._glHandler=null,this._instanceId=Kt.IdCounter++,this._startTime=-1,this._canvas=t,this._wrapperElement=n,this._context=t.getContext("2d"),this._scene=r(this,this._context,this._time),this._scene===null&&(this._scene=new os(this,this._context,this._time)),this._sequenceGenerator=this._scene.sequence(),!this._context)throw new Error("Failed to get 2D context from canvas");globalThis.requestAnimationFrame(this.onRenderFrame.bind(this));const s=()=>{this._canvas.width=this._wrapperElement.clientWidth*this._dpi*this._resolutionScale,this._canvas.height=this._wrapperElement.clientHeight*this._dpi*this._resolutionScale};globalThis.addEventListener("resize",s.bind(this)),s()}get resolution(){return this._resolution}get clientSize(){return new d(this._wrapperElement.clientWidth,this._wrapperElement.clientHeight)}onRenderFrame(t){const n=t/1e3;this._startTime<0&&(this._startTime=n),this._time.delta=n-this._startTime-this._time.now,this._time.now=n-this._startTime,this.setupTransformations(),this._scene.render(),this._sequenceGenerator.next(),this.drawDebugInfo(),globalThis.requestAnimationFrame(this.onRenderFrame.bind(this))}setupTransformations(){this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.fillStyle="#000",this._context.fillRect(0,0,this._canvas.width,this._canvas.height);const t=this._canvas.width/this._resolution.x,n=this._canvas.height/this._resolution.y,r=Math.min(t,n),s=(this._canvas.width-this._resolution.x*r)/2,i=(this._canvas.height-this._resolution.y*r)/2;this._context.setTransform(r,0,0,r,s,i),this._context.fillStyle="#444",this._context.fillRect(0,0,this._resolution.x,this._resolution.y),this._context.strokeStyle="white",this._context.strokeRect(0,0,this._resolution.x,this._resolution.y)}drawDebugInfo(){p.debugMode!==!1&&(this._context.fillStyle="#00000044",this._context.fillRect(0,0,200,100),this._context.fillStyle="white",this._context.font="16px Consolas, monospace",this._context.textAlign="left",this._context.textBaseline="alphabetic",this._context.fillText(`(${this._instanceId}) Debug Info`,10,20),this._context.beginPath(),this._context.moveTo(10,30),this._context.lineTo(190,30),this._context.strokeStyle="white",this._context.lineWidth=1,this._context.lineCap="butt",this._context.stroke(),this._context.fillText(`Delta : ${(this._time.delta*1e3).toFixed(2).padStart(5,"0")}ms`,10,50),this._context.fillText(`Now   : ${this._time.now.toFixed(2)}s`,10,70),this._context.fillText(`Canvas: ${this._canvas.width}x${this._canvas.height}`,10,90))}getTextSize(t){const n=this._context.measureText(t);return new d(n.actualBoundingBoxLeft+n.actualBoundingBoxRight,n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}getWebGLContext(){if(this._glHandler)return this._glHandler._glContext;const t=document.createElement("canvas");if(t.classList.add("webgl-canvas"),this._glHandler={_glCanvas:t,_glContext:t.getContext("webgl2"),_glResolution:new d(1280,720)},!this._glHandler._glContext)return console.error("WebGL context is not available."),null;const n=()=>{this._glHandler._glCanvas.width=this._wrapperElement.clientWidth,this._glHandler._glCanvas.height=this._wrapperElement.clientHeight;const r=this._wrapperElement.clientWidth/this._resolution.x,s=this._wrapperElement.clientHeight/this._resolution.y,i=Math.min(r,s),o=(this._wrapperElement.clientWidth-this._resolution.x*i)/2,a=(this._wrapperElement.clientHeight-this._resolution.y*i)/2;this._glHandler._glResolution.x=this._resolution.x*i,this._glHandler._glResolution.y=this._resolution.y*i,this._glHandler._glContext.viewport(o,a,this._resolution.x*i,this._resolution.y*i)};return globalThis.addEventListener("resize",n.bind(this)),setTimeout(n.bind(this),1),this._wrapperElement.insertBefore(this._glHandler._glCanvas,this._canvas),this._glHandler._glContext}};Kt.IdCounter=0;let _e=Kt;var us=()=>p.setDebugMode(!p.debugMode),fs=$('<div class="canvas-wrapper svelte-2j3np0"><button class="fullscreen svelte-2j3np0"><span>⛶</span></button> <button class="debugMode svelte-2j3np0"><span>🛠️</span></button> <canvas width="200" height="100"></canvas></div>');function Tt(e,t){G(t,!0);let n=t.scene||(()=>null),r,s,i,o=O(!1);Pn(()=>{new _e(r,s,n),i.addEventListener("click",()=>{if(document.fullscreenElement){document.exitFullscreen().catch(c=>{console.error("Failed to exit fullscreen mode:",c)}),M(o,!1);return}s.requestFullscreen().catch(c=>{console.error("Failed to enter fullscreen mode:",c)}),M(o,!0)}),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||M(o,!1)})});var a=fs(),l=S(a);oe(l,c=>i=c,()=>i);var f=C(l,2);f.__click=[us];var u=C(f,2);oe(u,c=>r=c,()=>r),oe(a,c=>s=c,()=>s),at(()=>ke(u,1,`canvas ${T(o)?"fullscreen":""}`,"svelte-2j3np0")),w(e,a),U()}Se(["click"]);var cs=$('<button role="tab"> </button>'),hs=$('<div class="tabs"><div class="tab-buttons svelte-12g5vdc" role="tablist"></div> <div class="tab-contents svelte-12g5vdc"><!></div></div>');function Me(e,t){G(t,!0);let n=J([]),r=O(0);rr("tabs",{registerTab:l=>(n.push(l),n.length-1),activeTab:()=>T(r)});var s=hs(),i=S(s);Br(i,21,()=>n,Fr,(l,f,u)=>{var c=cs();c.__click=()=>M(r,u,!0);let h;var v=S(c);at(_=>{h=ke(c,1,"svelte-12g5vdc",null,h,_),Yt(v,T(f).title)},[()=>({active:T(r)===u})]),w(l,c)});var o=C(i,2),a=S(o);se(a,()=>t.children??Qt),w(e,s),U()}Se(["click"]);var ds=$('<div class="tab-panel svelte-fai8lk" role="tabpanel"><!></div>');function Et(e,t){G(t,!0);const{registerTab:n,activeTab:r}=nr("tabs");let s=O(-1);Pn(()=>{M(s,n({title:t.title}),!0)});var i=Cn(),o=St(i);{var a=l=>{var f=ds(),u=S(f);se(u,()=>t.children),w(l,f)};Ae(o,l=>{T(s)===r()&&l(a)})}w(e,i),U()}class vs extends wt{constructor(t,n,r){super(t,n,r),this.objects={xPlot:new p(p.plotFunction("f(x) = cos(x + t)",s=>Math.cos(s+r.now),{lower:-1,upper:6},{lower:-2,upper:2},.1),new d(950,240),new d(300,200),new d(1,1),new d(.5,.5),0),yPlot:new p(p.plotFunction("f(y) = sin(y + t)",s=>Math.sin(s+r.now),{lower:-1,upper:6},{lower:-2,upper:2},.1),new d(950,480),new d(300,200),new d(1,1),new d(.5,.5),0),pathCircle:new p(p.ellipse("transparent","#000"),new d(350,360),new d(400,400),new d(1,1),new d(.5,.5),0),circle:new p(p.ellipse("#ff5722","#ff8a50"),new d(350,360),new d(50,50),new d(1,1),new d(.5,.5),0)}}render(){this.objects.xPlot.render(this.context),this.objects.yPlot.render(this.context),this.objects.pathCircle.render(this.context),this.objects.circle.position=new d(350+200*Math.cos(this.time.now),360+200*Math.sin(this.time.now)),this.objects.circle.render(this.context)}}class Sn{constructor(t){this.time=t}}class me{static*run(t){for(t.start();!t.tick();)yield}static*runTogether(t){t.forEach(r=>r.start());let n;do n=t.map(r=>r.tick()),yield;while(n.some(r=>!r))}}class An extends Sn{constructor(t,n){super(t),this.startTime=0,this.endTime=0,this.duration=0,this.finished=!0,this.duration=n}start(){this.startTime=this.time.now,this.endTime=this.startTime+this.duration,this.finished=!1}tick(){return this.finished?!0:(this.time.now>=this.endTime&&(this.finished=!0),this.finished)}}class ue extends Sn{constructor(t,n,r){super(t),this.startTime=0,this.endTime=0,this.finished=!0,this.setter=n,this.options=r,this.options.easing=r.easing??(s=>s)}start(){this.startTime=this.time.now,this.endTime=this.startTime+this.options.duration,this.finished=!1,this.setter(this.options.startValue)}tick(){if(this.finished)return!0;const t=this.time.now,n=t-this.startTime,r=Math.min(n/this.options.duration,1),s=this.options.easing(r),i=this.options.startValue+(this.options.endValue-this.options.startValue)*s;return this.setter(i),t>=this.endTime&&(this.finished=!0,this.setter(this.options.endValue)),this.finished}get progress(){if(this.finished)return 1;const n=this.time.now-this.startTime;return Math.min(n/this.options.duration,1)}reverse(){const t=this.options.startValue;this.options.startValue=this.options.endValue,this.options.endValue=t}}class It{static linear(t){return t}static easeInQuad(t){return t*t}static easeOutQuad(t){return t*(2-t)}static easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t}static easeInOutElastic(t){const n=2*Math.PI/4.5;return t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*n))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*n)/2+1}}class ps extends wt{constructor(t,n,r){super(t,n,r),this.dotPositions={ballA:0,ballB:0,ballC:0},this.objects={ballA:new p(p.ellipse("#ff5722","#ff0000"),new d(340,360),new d(50,50),new d(1,1),new d(.5,.5),0),ballB:new p(p.ellipse("#57ff22","#00ff22"),new d(640,360),new d(50,50),new d(1,1),new d(.5,.5),0),ballC:new p(p.ellipse("#2257ff","#2200ff"),new d(940,360),new d(50,50),new d(1,1),new d(.5,.5),0),easingPlotA:new p(p.plotFunction("easeInQuad: t ^ 2",It.easeInQuad,{lower:0,upper:1},{lower:0,upper:1},.01,()=>this.dotPositions.ballA),new d(340,150),new d(200,200),new d(1,1),new d(.5,.5),0),easingPlotB:new p(p.plotFunction("easeOutQuad: t * (2 - t)",It.easeOutQuad,{lower:0,upper:1},{lower:0,upper:1},.01,()=>this.dotPositions.ballB),new d(640,150),new d(200,200),new d(1,1),new d(.5,.5),0),easingPlotC:new p(p.plotFunction("easeInOutElastic: <...>",It.easeInOutElastic,{lower:0,upper:1},{lower:0,upper:1},.01,()=>this.dotPositions.ballC),new d(940,150),new d(200,200),new d(1,1),new d(.5,.5),0)},this.sequencers={ballAInterpolator:new ue(r,s=>{this.objects.ballA.position.y=s},{startValue:360,endValue:600,duration:1,easing:s=>s*s}),ballBInterpolator:new ue(r,s=>{this.objects.ballB.position.y=s},{startValue:360,endValue:600,duration:1,easing:s=>1-Math.pow(1-s,2)}),ballCInterpolator:new ue(r,s=>{this.objects.ballC.position.y=s},{startValue:360,endValue:600,duration:1,easing:It.easeInOutElastic}),timer:new An(r,.5)}}*sequence(){for(;;)yield*me.runTogether([this.sequencers.ballAInterpolator,this.sequencers.ballBInterpolator,this.sequencers.ballCInterpolator]),yield*me.run(this.sequencers.timer),this.sequencers.ballAInterpolator.reverse(),this.sequencers.ballBInterpolator.reverse(),this.sequencers.ballCInterpolator.reverse()}render(){this.context.strokeStyle="#222",this.context.lineWidth=16,this.context.lineCap="round",this.context.beginPath(),this.context.moveTo(340,360),this.context.lineTo(340,600),this.context.moveTo(640,360),this.context.lineTo(640,600),this.context.moveTo(940,360),this.context.lineTo(940,600),this.context.stroke(),this.context.lineWidth=1,this.dotPositions.ballA=this.sequencers.ballAInterpolator.progress,this.dotPositions.ballB=this.sequencers.ballBInterpolator.progress,this.dotPositions.ballC=this.sequencers.ballCInterpolator.progress,Object.keys(this.objects).forEach(t=>{this.objects[t].render(this.context)})}}var _s=$("<!> <!>",1);function ms(e,t){G(t,!1),ze(),et(e,{title:"Functional Animations",children:(n,r)=>{Me(n,{children:(s,i)=>{var o=_s(),a=St(o);Et(a,{title:"Simple functional",children:(f,u)=>{const c=dt(()=>vs.provide());Tt(f,{get scene(){return T(c)}})},$$slots:{default:!0}});var l=C(a,2);Et(l,{title:"Simple interpolation",children:(f,u)=>{const c=dt(()=>ps.provide());Tt(f,{get scene(){return T(c)}})},$$slots:{default:!0}}),w(s,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),U()}const rt=class rt{constructor(t){this.loaded=!1,this.size=new d(-1,-1);const n=Ie+t;if(this.image=rt.cache.get(n)||new Image,!rt.cache.has(n))this.image.src=n,rt.cache.set(n,this.image);else{this.loaded=!0;const r=rt.cache.get(n);this.size.set(r.width,r.height)}this.image.onload=()=>{this.loaded=!0,this.size.set(this.image.width,this.image.height)}}isLoaded(){return this.loaded}getImage(){return this.loaded||console.warn(`Image at ${this.image.src} is not loaded yet.`),this.image}};rt.cache=new Map;let we=rt;const st=class st extends we{constructor(t,n,r,s=n*r){super(t),this.framesX=n,this.framesY=r,this.frameCount=s}drawFrame(t,n,r,s,i,o){if(!this.isLoaded()){console.warn(`Spritesheet at ${this.image.src} is not loaded yet.`);return}const a=n%this.frameCount,l=this.image.width/this.framesX,f=this.image.height/this.framesY,u=a%this.framesX*l,c=Math.floor(a/this.framesX)*f;t.drawImage(this.image,u+st.BIAS,c+st.BIAS,l-st.BIAS*2,f-st.BIAS*2,r,s,i,o)}};st.BIAS=.5;let ht=st;class ws{constructor(t,n){this.canvas=document.createElement("canvas"),this.canvas.width=t,this.canvas.height=n,this.context=this.canvas.getContext("2d")}getCanvas(){return this.canvas}getContext(){return this.context}get imageData(){return this.context.getImageData(0,0,this.canvas.width,this.canvas.height)}set imageData(t){this.context.putImageData(t,0,0)}}class Nt{constructor(t,n,r){this.background=new p(p.roundedRectangle("rgba(0, 0, 0, 0.5)","black",8),t,n.clone(),new d(1,1),new d(0,0)),this.foreground=new p(p.roundedRectangle("rgba(0, 255, 0, 0.5)","green",8),new d(0,0),n.clone(),new d(1,1),new d(0,0)),this.text=new p(p.dynamicText(r,"24px Consolas, monospace","white","left","middle"),new d(0,-12)),this.background.children.push(this.foreground,this.text)}render(t){this.background.render(t)}setProgress(t){this.foreground.size.x=this.background.size.x*t}}class gs extends wt{constructor(t,n,r){super(t,n,r),this.textures={cat:new ht("/cat-spritesheet.webp",12,14,158)},this.objects={cat:new p(p.sprite(this.textures.cat,()=>Math.floor(r.now*24)),new d(1280/2,720/2),new d(256,256)),progressBar:new Nt(new d(256/2,592),new d(1024,32),()=>`Frame: ${Math.floor(r.now*24)%158} / 158`)}}render(){this.objects.cat.render(this.context),this.objects.progressBar.setProgress(Math.round(this.time.now*24)/158%1),this.objects.progressBar.render(this.context)}}class ys extends wt{constructor(t,n,r){super(t,n,r),this.textures={cat1:new ht("/cat-spritesheet.webp",12,14,158),cat2:new ht("/cat-alt-spritesheet.webp",9,8,71),cat3:new ht("/cat-alt-02-spritesheet.webp",9,8,68)},this.objects={cat1:new p(p.sprite(this.textures.cat1,()=>Math.floor(r.now*24)),new d(0,200),new d(200,200),new d(1,1),new d(.5,0),0),cat2:new p(p.sprite(this.textures.cat2,()=>Math.floor(r.now*24)),new d(0,150),new d(200,200),new d(1,1),new d(.5,0),0),cat3:new p(p.sprite(this.textures.cat3,()=>Math.floor(r.now*24)),new d(640,100),new d(200,150),new d(1,1),new d(.5,0),0),texts:{cat1:new p(p.staticText("Cat 1: 158 frames","24px Consolas, monospace","white","center","middle")),cat2:new p(p.staticText("Cat 2: 71 frames","24px Consolas, monospace","white","center","middle")),cat3:new p(p.staticText("Cat 3: 68 frames","24px Consolas, monospace","white","center","middle"))},progressBars:{cat1:new Nt(new d(50,518),new d(128,24),()=>`Cat 1: ${Math.floor(r.now*24)%158+1} / 158`),cat2:new Nt(new d(50,582),new d(128,24),()=>`Cat 2: ${Math.floor(r.now*24)%71+1} / 71`),cat3:new Nt(new d(50,646),new d(128,24),()=>`Cat 3: ${Math.floor(r.now*24)%68+1} / 68`)}},this.objects.cat3.children.push(this.objects.texts.cat3,this.objects.cat2),this.objects.cat2.children.push(this.objects.texts.cat2,this.objects.cat1),this.objects.cat1.children.push(this.objects.texts.cat1)}render(){this.objects.cat1.rotation=Math.sin(this.time.now*2)*.75,this.objects.cat2.rotation=Math.sin(this.time.now*3)*.5,this.objects.cat3.rotation=Math.sin(this.time.now*4)*.5,this.objects.cat3.render(this.context),this.objects.progressBars.cat1.setProgress(Math.round(this.time.now*24)/158%1),this.objects.progressBars.cat2.setProgress(Math.round(this.time.now*24)/71%1),this.objects.progressBars.cat3.setProgress(Math.round(this.time.now*24)/68%1),this.objects.progressBars.cat1.render(this.context),this.objects.progressBars.cat2.render(this.context),this.objects.progressBars.cat3.render(this.context)}}var xs=$("<!> <!>",1);function bs(e,t){G(t,!1),ze(),et(e,{title:"Frame Animations",children:(n,r)=>{Me(n,{children:(s,i)=>{var o=xs(),a=St(o);Et(a,{title:"Simple",children:(f,u)=>{const c=dt(()=>gs.provide());Tt(f,{get scene(){return T(c)}})},$$slots:{default:!0}});var l=C(a,2);Et(l,{title:"Complex",children:(f,u)=>{const c=dt(()=>ys.provide());Tt(f,{get scene(){return T(c)}})},$$slots:{default:!0}}),w(s,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),U()}class Ts extends wt{constructor(t,n,r){super(t,n,r);const s=t.resolution,i=8;this.cols=Math.floor(s.x/i),this.rows=Math.floor(s.y/i),this.grid=new ws(this.cols,this.rows),this.imageData=this.grid.imageData,this.timer=new An(r,1/30);const o=this.imageData;for(let a=0;a<this.rows;a++)for(let l=0;l<this.cols;l++)o.data[(a*this.cols+l)*4]=0,o.data[(a*this.cols+l)*4+1]=0,o.data[(a*this.cols+l)*4+2]=0,o.data[(a*this.cols+l)*4+3]=Math.random()<.5?255:0;this.grid.imageData=o}*sequence(){for(;;)this.updateGrid(),yield*me.run(this.timer)}render(){const t=this.context;t.fillStyle="#ff5722",t.fillRect(0,0,this.wrapper.resolution.x,this.wrapper.resolution.y),t.imageSmoothingEnabled=!1,t.drawImage(this.grid.getCanvas(),0,0,this.wrapper.resolution.x,this.wrapper.resolution.y)}updateGrid(){const t=Array.from(this.grid.imageData.data.filter((n,r)=>r%4===3)).map(n=>n>0);for(let n=0;n<t.length;n++){const r=Math.floor(n/this.cols),s=n%this.cols,i=this.countAliveNeighbors(t,r,s);t[n]?i<2||i>3?this.imageData.data[n*4+3]=0:this.imageData.data[n*4+3]=255:i===3?this.imageData.data[n*4+3]=255:this.imageData.data[n*4+3]=0}this.grid.imageData=this.imageData}countAliveNeighbors(t,n,r){const s=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];let i=0;for(const[o,a]of s){const l=n+o,f=r+a;if(l>=0&&l<this.rows&&f>=0&&f<this.cols){const u=l*this.cols+f;t[u]&&i++}}return i}}function Es(e,t){G(t,!1),ze(),et(e,{title:"Cellular Automatas",children:(n,r)=>{Me(n,{children:(s,i)=>{Et(s,{title:"Conway's Game of Life",children:(o,a)=>{const l=dt(()=>Ts.provide());Tt(o,{get scene(){return T(l)}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),U()}console.log("Running in production mode.");const Ie="/emergent-animations",kn=[],Cs=[{href:"/",component:Jr,title:"Home"},{href:"/404",component:ts,title:"404"},{href:"/thesis",component:ns,title:"Thesis"},{href:"/about",component:ss,title:"About"},{href:"/examples",component:ls,title:"Examples"},{href:"/examples/functional-animations",component:ms,title:"Functional Animations"},{href:"/examples/frame-animations",component:bs,title:"Frame Animations"},{href:"/examples/cellular-automatas",component:Es,title:"Cellular Automatas"}],Xt=Cs.reduce((e,t)=>(e[t.href]=t,e),{});let ge=Xt[globalThis.location.pathname.replace(Ie,"")]??Xt["/404"];function $s(e){globalThis.history.pushState({},"",Ie+e),ge=Xt[e]??Xt["/404"],kn.forEach(t=>t(ge))}function Ps(){return ge}function Ss(e){kn.push(e)}function As(e,t,n){t()===""&&(e.preventDefault(),e.stopPropagation(),$s(n.href))}var ks=$("<a><!> <!></a>");function W(e,t){G(t,!0);let n=it(t,"style",3,""),r=it(t,"cssClass",3,""),s=it(t,"target",3,""),i=it(t,"rel",3,"");var o=ks();o.__click=[As,s,t];var a=S(o);se(a,()=>t.children??Qt);var l=C(a,2);{var f=u=>{var c=q();at(()=>Yt(c,t.href)),w(u,c)};Ae(l,u=>{t.children||u(f)})}at(()=>{Bt(o,"href",t.href),$n(o,n()),Bt(o,"target",s()),Bt(o,"rel",i()),ke(o,1,`link ${r()??""}`,"svelte-1iwy9kf")}),w(e,o),U()}Se(["click"]);var zs=$('<header class="svelte-1xgxzs1"><!> <nav class="svelte-1xgxzs1"><!> <!> <!> <!></nav></header>');function Ms(e){var t=zs(),n=S(t);W(n,{href:"/",cssClass:"navbar-title",children:(l,f)=>{var u=q("Emergent Animations");w(l,u)},$$slots:{default:!0}});var r=C(n,2),s=S(r);W(s,{cssClass:"navbar-link",href:"/",children:(l,f)=>{var u=q("Home");w(l,u)},$$slots:{default:!0}});var i=C(s,2);W(i,{cssClass:"navbar-link",href:"/thesis",children:(l,f)=>{var u=q("Thesis");w(l,u)},$$slots:{default:!0}});var o=C(i,2);W(o,{cssClass:"navbar-link",href:"/examples",children:(l,f)=>{var u=q("Examples");w(l,u)},$$slots:{default:!0}});var a=C(o,2);W(a,{cssClass:"navbar-link",href:"/about",children:(l,f)=>{var u=q("About");w(l,u)},$$slots:{default:!0}}),w(e,t)}function Is(e,t){G(t,!0);let n=O(J(Ps())),r=Oe(()=>{var l;return(l=T(n))==null?void 0:l.component}),s=Oe(()=>{var l;return((l=T(n))==null?void 0:l.title)||"*"}),i=null;Ss(l=>{T(n).href!=l.href&&(i&&clearTimeout(i),document.getElementById("current-page").classList.add("fade-out"),i=setTimeout(()=>{M(n,l,!0),document.getElementById("current-page").classList.remove("fade-out")},150))});var o=Cn();Ar(l=>{at(()=>on.title=`Emergent Animations - ${T(s)??""}`)});var a=St(o);Lr(a,()=>T(r),(l,f)=>{f(l,{})}),w(e,o),U()}var Fs=$('<!> <main class="svelte-7hgqb0"><!></main> <footer class="svelte-7hgqb0"><span>Created by <!> using <!> ❤️</span></footer>',1);function Ds(e){var t=Fs(),n=St(t);Ms(n);var r=C(n,2),s=S(r);Is(s,{});var i=C(r,2),o=S(i),a=C(S(o));W(a,{href:"https://github.com/KissKonradUni/emergent-animations",target:"_blank",rel:"noopener noreferrer",children:(f,u)=>{var c=q("Konrád Soma Kiss");w(f,c)},$$slots:{default:!0}});var l=C(a,2);W(l,{href:"https://svelte.dev",target:"_blank",rel:"noopener noreferrer",children:(f,u)=>{var c=q("Svelte");w(f,c)},$$slots:{default:!0}}),w(e,t)}zr(Ds,{target:document.body});
