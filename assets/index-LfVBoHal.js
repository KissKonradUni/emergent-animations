(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const ke=!1;var ge=Array.isArray,Ar=Array.prototype.indexOf,me=Array.from,Cr=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,We=Object.getOwnPropertyDescriptors,Pr=Object.prototype,$r=Array.prototype,we=Object.getPrototypeOf,Fe=Object.isExtensible;const Xt=()=>{};function zr(t){return t()}function oe(t){for(var e=0;e<t.length;e++)t[e]()}const D=2,Ye=4,Kt=8,ye=16,X=32,vt=64,It=128,L=256,Lt=512,M=1024,U=2048,ot=4096,V=8192,Zt=16384,kr=32768,bt=65536,Ve=1<<19,Ge=1<<20,ue=1<<21,ct=Symbol("$state"),Fr=Symbol("");function Xe(t){return t===this.v}function Mr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ke(t){return!Mr(t,this.v)}function Ir(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Lr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Br(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Nr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Rr(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Dr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Or(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Et=!1,qr=!1;function Hr(){Et=!0}const Ur=1,Wr=2,Yr=16,Vr=1,Gr=2,k=Symbol(),Xr="http://www.w3.org/1999/xhtml";function Ze(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let w=null;function Me(t){w=t}function Kr(t){return Je().get(t)}function Zr(t,e){return Je().set(t,e),e}function W(t,e=!1,r){var n=w={p:w,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Et&&!e&&(w.l={s:null,u:null,r1:[],r2:yt(!1)}),sn(()=>{n.d=!0})}function Y(t){const e=w;if(e!==null){const a=e.e;if(a!==null){var r=x,n=y;e.e=null;try{for(var i=0;i<a.length;i++){var s=a[i];dt(s.effect),j(s.reaction),xe(s.fn)}}finally{dt(r),j(n)}}w=e.p,e.m=!0}return{}}function Jt(){return!Et||w!==null&&w.l===null}function Je(t){return w===null&&Ze(),w.c??(w.c=new Map(Jr(w)||void 0))}function Jr(t){let e=t.p;for(;e!==null;){const r=e.c;if(r!==null)return r;e=e.p}return null}function J(t){if(typeof t!="object"||t===null||ct in t)return t;const e=we(t);if(e!==Pr&&e!==$r)return t;var r=new Map,n=ge(t),i=N(0),s=y,a=l=>{var u=y;j(s);var o=l();return j(u),o};return n&&r.set("length",N(t.length)),new Proxy(t,{defineProperty(l,u,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&Rr();var f=r.get(u);return f===void 0?(f=a(()=>N(o.value)),r.set(u,f)):F(f,a(()=>J(o.value))),!0},deleteProperty(l,u){var o=r.get(u);if(o===void 0)u in l&&(r.set(u,a(()=>N(k))),le(i));else{if(n&&typeof u=="string"){var f=r.get("length"),c=Number(u);Number.isInteger(c)&&c<f.v&&F(f,c)}F(o,k),le(i)}return!0},get(l,u,o){var v;if(u===ct)return t;var f=r.get(u),c=u in l;if(f===void 0&&(!c||(v=gt(l,u))!=null&&v.writable)&&(f=a(()=>N(J(c?l[u]:k))),r.set(u,f)),f!==void 0){var h=E(f);return h===k?void 0:h}return Reflect.get(l,u,o)},getOwnPropertyDescriptor(l,u){var o=Reflect.getOwnPropertyDescriptor(l,u);if(o&&"value"in o){var f=r.get(u);f&&(o.value=E(f))}else if(o===void 0){var c=r.get(u),h=c==null?void 0:c.v;if(c!==void 0&&h!==k)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return o},has(l,u){var h;if(u===ct)return!0;var o=r.get(u),f=o!==void 0&&o.v!==k||Reflect.has(l,u);if(o!==void 0||x!==null&&(!f||(h=gt(l,u))!=null&&h.writable)){o===void 0&&(o=a(()=>N(f?J(l[u]):k)),r.set(u,o));var c=E(o);if(c===k)return!1}return f},set(l,u,o,f){var z;var c=r.get(u),h=u in l;if(n&&u==="length")for(var v=o;v<c.v;v+=1){var _=r.get(v+"");_!==void 0?F(_,k):v in l&&(_=a(()=>N(k)),r.set(v+"",_))}c===void 0?(!h||(z=gt(l,u))!=null&&z.writable)&&(c=a(()=>N(void 0)),F(c,a(()=>J(o))),r.set(u,c)):(h=c.v!==k,F(c,a(()=>J(o))));var g=Reflect.getOwnPropertyDescriptor(l,u);if(g!=null&&g.set&&g.set.call(f,o),!h){if(n&&typeof u=="string"){var T=r.get("length"),b=Number(u);Number.isInteger(b)&&b>=T.v&&F(T,b+1)}le(i)}return!0},ownKeys(l){E(i);var u=Reflect.ownKeys(l).filter(c=>{var h=r.get(c);return h===void 0||h.v!==k});for(var[o,f]of r)f.v!==k&&!(o in l)&&u.push(o);return u},setPrototypeOf(){Dr()}})}function le(t,e=1){F(t,t.v+e)}function Qt(t){var e=D|U,r=y!==null&&(y.f&D)!==0?y:null;return x===null||r!==null&&(r.f&L)!==0?e|=L:x.f|=Ge,{ctx:w,deps:null,effects:null,equals:Xe,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??x}}function Ie(t){const e=Qt(t);return vr(e),e}function mt(t){const e=Qt(t);return e.equals=Ke,e}function Qe(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)G(e[r])}}function Qr(t){for(var e=t.parent;e!==null;){if((e.f&D)===0)return e;e=e.parent}return null}function je(t){var e,r=x;dt(Qr(t));try{Qe(t),e=mr(t)}finally{dt(r)}return e}function tr(t){var e=je(t),r=(Q||(t.f&L)!==0)&&t.deps!==null?ot:M;O(t,r),t.equals(e)||(t.v=e,t.wv=pr())}const wt=new Map;function yt(t,e){var r={f:0,v:t,reactions:null,equals:Xe,rv:0,wv:0};return r}function N(t,e){const r=yt(t);return vr(r),r}function jr(t,e=!1){var n;const r=yt(t);return e||(r.equals=Ke),Et&&w!==null&&w.l!==null&&((n=w.l).s??(n.s=[])).push(r),r}function F(t,e,r=!1){y!==null&&!q&&Jt()&&(y.f&(D|ye))!==0&&!(P!=null&&P.includes(t))&&Or();let n=r?J(e):e;return er(t,n)}function er(t,e){if(!t.equals(e)){var r=t.v;St?wt.set(t,e):wt.set(t,r),t.v=e,(t.f&D)!==0&&((t.f&U)!==0&&je(t),O(t,(t.f&L)===0?M:ot)),t.wv=pr(),rr(t,U),Jt()&&x!==null&&(x.f&M)!==0&&(x.f&(X|vt))===0&&(B===null?hn([t]):B.push(t))}return e}function rr(t,e){var r=t.reactions;if(r!==null)for(var n=Jt(),i=r.length,s=0;s<i;s++){var a=r[s],l=a.f;(l&U)===0&&(!n&&a===x||(O(a,e),(l&(M|L))!==0&&((l&D)!==0?rr(a,ot):re(a))))}}let tn=!1;var Le,nr,ir,sr,lr;function en(){if(Le===void 0){Le=window,nr=document,ir=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;sr=gt(e,"firstChild").get,lr=gt(e,"nextSibling").get,Fe(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Fe(r)&&(r.__t=void 0)}}function Tt(t=""){return document.createTextNode(t)}function Bt(t){return sr.call(t)}function jt(t){return lr.call(t)}function C(t,e){return Bt(t)}function te(t,e){{var r=Bt(t);return r instanceof Comment&&r.data===""?jt(r):r}}function S(t,e=1,r=!1){let n=t;for(;e--;)n=jt(n);return n}function rn(t){t.textContent=""}function ar(t){x===null&&y===null&&Br(),y!==null&&(y.f&L)!==0&&x===null&&Lr(),St&&Ir()}function nn(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function _t(t,e,r,n=!0){var i=x,s={ctx:w,deps:null,nodes_start:null,nodes_end:null,f:t|U,first:null,fn:e,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Ee(s),s.f|=kr}catch(u){throw G(s),u}else e!==null&&re(s);var a=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ge|It))===0;if(!a&&n&&(i!==null&&nn(s,i),y!==null&&(y.f&D)!==0)){var l=y;(l.effects??(l.effects=[])).push(s)}return s}function sn(t){const e=_t(Kt,null,!1);return O(e,M),e.teardown=t,e}function fe(t){ar();var e=x!==null&&(x.f&X)!==0&&w!==null&&!w.m;if(e){var r=w;(r.e??(r.e=[])).push({fn:t,effect:x,reaction:y})}else{var n=xe(t);return n}}function ln(t){return ar(),or(t)}function an(t){const e=_t(vt,t,!0);return(r={})=>new Promise(n=>{r.outro?xt(e,()=>{G(e),n(void 0)}):(G(e),n(void 0))})}function xe(t){return _t(Ye,t,!1)}function or(t){return _t(Kt,t,!0)}function lt(t,e=[],r=Qt){const n=e.map(r);return pt(()=>t(...n.map(E)))}function pt(t,e=0){return _t(Kt|ye|e,t,!0)}function at(t,e=!0){return _t(Kt|X,t,!0,e)}function ur(t){var e=t.teardown;if(e!==null){const r=St,n=y;Be(!0),j(null);try{e.call(null)}finally{Be(r),j(n)}}}function fr(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&vt)!==0?r.parent=null:G(r,e),r=n}}function on(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&X)===0&&G(e),e=r}}function G(t,e=!0){var r=!1;(e||(t.f&Ve)!==0)&&t.nodes_start!==null&&(un(t.nodes_start,t.nodes_end),r=!0),fr(t,e&&!r),qt(t,0),O(t,Zt);var n=t.transitions;if(n!==null)for(const s of n)s.stop();ur(t);var i=t.parent;i!==null&&i.first!==null&&cr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function un(t,e){for(;t!==null;){var r=t===e?null:jt(t);t.remove(),t=r}}function cr(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function xt(t,e){var r=[];be(t,r,!0),hr(r,()=>{G(t),e&&e()})}function hr(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var i of t)i.out(n)}else e()}function be(t,e,r){if((t.f&V)===0){if(t.f^=V,t.transitions!==null)for(const a of t.transitions)(a.is_global||r)&&e.push(a);for(var n=t.first;n!==null;){var i=n.next,s=(n.f&bt)!==0||(n.f&X)!==0;be(n,e,s?r:!1),n=i}}}function Nt(t){dr(t,!0)}function dr(t,e){if((t.f&V)!==0){t.f^=V,(t.f&M)===0&&(t.f^=M),At(t)&&(O(t,U),re(t));for(var r=t.first;r!==null;){var n=r.next,i=(r.f&bt)!==0||(r.f&X)!==0;dr(r,i?e:!1),r=n}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Rt=[];function fn(){var t=Rt;Rt=[],oe(t)}function cn(t){Rt.length===0&&queueMicrotask(fn),Rt.push(t)}let zt=!1,ce=!1,Dt=null,st=!1,St=!1;function Be(t){St=t}let kt=[];let y=null,q=!1;function j(t){y=t}let x=null;function dt(t){x=t}let P=null;function vr(t){y!==null&&y.f&ue&&(P===null?P=[t]:P.push(t))}let A=null,I=0,B=null;function hn(t){B=t}let _r=1,Ot=0,Q=!1;function pr(){return++_r}function At(t){var c;var e=t.f;if((e&U)!==0)return!0;if((e&ot)!==0){var r=t.deps,n=(e&L)!==0;if(r!==null){var i,s,a=(e&Lt)!==0,l=n&&x!==null&&!Q,u=r.length;if(a||l){var o=t,f=o.parent;for(i=0;i<u;i++)s=r[i],(a||!((c=s==null?void 0:s.reactions)!=null&&c.includes(o)))&&(s.reactions??(s.reactions=[])).push(o);a&&(o.f^=Lt),l&&f!==null&&(f.f&L)===0&&(o.f^=L)}for(i=0;i<u;i++)if(s=r[i],At(s)&&tr(s),s.wv>t.wv)return!0}(!n||x!==null&&!Q)&&O(t,M)}return!1}function dn(t,e){for(var r=e;r!==null;){if((r.f&It)!==0)try{r.fn(t);return}catch{r.f^=It}r=r.parent}throw zt=!1,t}function Ne(t){return(t.f&Zt)===0&&(t.parent===null||(t.parent.f&It)===0)}function ee(t,e,r,n){if(zt){if(r===null&&(zt=!1),Ne(e))throw t;return}if(r!==null&&(zt=!0),dn(t,e),Ne(e))throw t}function gr(t,e,r=!0){var n=t.reactions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];P!=null&&P.includes(t)||((s.f&D)!==0?gr(s,e,!1):e===s&&(r?O(s,U):(s.f&M)!==0&&O(s,ot),re(s)))}}function mr(t){var v;var e=A,r=I,n=B,i=y,s=Q,a=P,l=w,u=q,o=t.f;A=null,I=0,B=null,Q=(o&L)!==0&&(q||!st||y===null),y=(o&(X|vt))===0?t:null,P=null,Me(t.ctx),q=!1,Ot++,t.f|=ue;try{var f=(0,t.fn)(),c=t.deps;if(A!==null){var h;if(qt(t,I),c!==null&&I>0)for(c.length=I+A.length,h=0;h<A.length;h++)c[I+h]=A[h];else t.deps=c=A;if(!Q)for(h=I;h<c.length;h++)((v=c[h]).reactions??(v.reactions=[])).push(t)}else c!==null&&I<c.length&&(qt(t,I),c.length=I);if(Jt()&&B!==null&&!q&&c!==null&&(t.f&(D|ot|U))===0)for(h=0;h<B.length;h++)gr(B[h],t);return i!==null&&i!==t&&(Ot++,B!==null&&(n===null?n=B:n.push(...B))),f}finally{A=e,I=r,B=n,y=i,Q=s,P=a,Me(l),q=u,t.f^=ue}}function vn(t,e){let r=e.reactions;if(r!==null){var n=Ar.call(r,t);if(n!==-1){var i=r.length-1;i===0?r=e.reactions=null:(r[n]=r[i],r.pop())}}r===null&&(e.f&D)!==0&&(A===null||!A.includes(e))&&(O(e,ot),(e.f&(L|Lt))===0&&(e.f^=Lt),Qe(e),qt(e,0))}function qt(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)vn(t,r[n])}function Ee(t){var e=t.f;if((e&Zt)===0){O(t,M);var r=x,n=w,i=st;x=t,st=!0;try{(e&ye)!==0?on(t):fr(t),ur(t);var s=mr(t);t.teardown=typeof s=="function"?s:null,t.wv=_r;var a=t.deps,l;ke&&qr&&t.f&U}catch(u){ee(u,t,r,n||t.ctx)}finally{st=i,x=r}}}function _n(){try{Nr()}catch(t){if(Dt!==null)ee(t,Dt,null);else throw t}}function pn(){var t=st;try{var e=0;for(st=!0;kt.length>0;){e++>1e3&&_n();var r=kt,n=r.length;kt=[];for(var i=0;i<n;i++){var s=mn(r[i]);gn(s)}wt.clear()}}finally{ce=!1,st=t,Dt=null}}function gn(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(Zt|V))===0)try{At(n)&&(Ee(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?cr(n):n.fn=null))}catch(i){ee(i,n,null,n.ctx)}}}function re(t){ce||(ce=!0,queueMicrotask(pn));for(var e=Dt=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(vt|X))!==0){if((r&M)===0)return;e.f^=M}}kt.push(e)}function mn(t){for(var e=[],r=t;r!==null;){var n=r.f,i=(n&(X|vt))!==0,s=i&&(n&M)!==0;if(!s&&(n&V)===0){if((n&Ye)!==0)e.push(r);else if(i)r.f^=M;else try{At(r)&&Ee(r)}catch(u){ee(u,r,null,r.ctx)}var a=r.first;if(a!==null){r=a;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)r=l.next,l=l.parent}return e}function E(t){var e=t.f,r=(e&D)!==0;if(y!==null&&!q){if(!(P!=null&&P.includes(t))){var n=y.deps;t.rv<Ot&&(t.rv=Ot,A===null&&n!==null&&n[I]===t?I++:A===null?A=[t]:(!Q||!A.includes(t))&&A.push(t))}}else if(r&&t.deps===null&&t.effects===null){var i=t,s=i.parent;s!==null&&(s.f&L)===0&&(i.f^=L)}return r&&(i=t,At(i)&&tr(i)),St&&wt.has(t)?wt.get(t):t.v}function Te(t){var e=q;try{return q=!0,t()}finally{q=e}}const wn=-7169;function O(t,e){t.f=t.f&wn|e}function yn(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ct in t)he(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&ct in r&&he(r)}}}function he(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{he(t[n],e)}catch{}const r=we(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=We(r);for(let i in n){const s=n[i].get;if(s)try{s.call(t)}catch{}}}}}const xn=["touchstart","touchmove"];function bn(t){return xn.includes(t)}const wr=new Set,de=new Set;function Se(t){for(var e=0;e<t.length;e++)wr.add(t[e]);for(var r of de)r(t)}function $t(t){var z;var e=this,r=e.ownerDocument,n=t.type,i=((z=t.composedPath)==null?void 0:z.call(t))||[],s=i[0]||t.target,a=0,l=t.__root;if(l){var u=i.indexOf(l);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var o=i.indexOf(e);if(o===-1)return;u<=o&&(a=u)}if(s=i[a]||t.target,s!==e){Cr(t,"currentTarget",{configurable:!0,get(){return s||r}});var f=y,c=x;j(null),dt(null);try{for(var h,v=[];s!==null;){var _=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+n];if(g!=null&&(!s.disabled||t.target===s))if(ge(g)){var[T,...b]=g;T.apply(s,[t,...b])}else g.call(s,t)}catch(ut){h?v.push(ut):h=ut}if(t.cancelBubble||_===e||_===null)break;s=_}if(h){for(let ut of v)queueMicrotask(()=>{throw ut});throw h}}finally{t.__root=e,delete t.currentTarget,j(f),dt(c)}}}function En(t){var e;e=document.head.appendChild(Tt());try{pt(()=>t(e),Ve)}finally{}}function Tn(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Ht(t,e){var r=x;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function $(t,e){var r=(e&Vr)!==0,n=(e&Gr)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=Tn(s?t:"<!>"+t),r||(i=Bt(i)));var a=n||ir?document.importNode(i,!0):i.cloneNode(!0);if(r){var l=Bt(a),u=a.lastChild;Ht(l,u)}else Ht(a,a);return a}}function R(t=""){{var e=Tt(t+"");return Ht(e,e),e}}function yr(){var t=document.createDocumentFragment(),e=document.createComment(""),r=Tt();return t.append(e,r),Ht(e,r),t}function m(t,e){t!==null&&t.before(e)}function Ut(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Sn(t,e){return An(t,e)}const ft=new Map;function An(t,{target:e,anchor:r,props:n={},events:i,context:s,intro:a=!0}){en();var l=new Set,u=c=>{for(var h=0;h<c.length;h++){var v=c[h];if(!l.has(v)){l.add(v);var _=bn(v);e.addEventListener(v,$t,{passive:_});var g=ft.get(v);g===void 0?(document.addEventListener(v,$t,{passive:_}),ft.set(v,1)):ft.set(v,g+1)}}};u(me(wr)),de.add(u);var o=void 0,f=an(()=>{var c=r??e.appendChild(Tt());return at(()=>{if(s){W({});var h=w;h.c=s}i&&(n.$$events=i),o=t(c,n)||{},s&&Y()}),()=>{var _;for(var h of l){e.removeEventListener(h,$t);var v=ft.get(h);--v===0?(document.removeEventListener(h,$t),ft.delete(h)):ft.set(h,v)}de.delete(u),c!==r&&((_=c.parentNode)==null||_.removeChild(c))}});return Cn.set(o,f),o}let Cn=new WeakMap;function Ae(t,e,[r,n]=[0,0]){var i=t,s=null,a=null,l=k,u=r>0?bt:0,o=!1;const f=(h,v=!0)=>{o=!0,c(v,h)},c=(h,v)=>{l!==(l=h)&&(l?(s?Nt(s):v&&(s=at(()=>v(i))),a&&xt(a,()=>{a=null})):(a?Nt(a):v&&(a=at(()=>v(i,[r+1,n]))),s&&xt(s,()=>{s=null})))};pt(()=>{o=!1,e(f),o||c(null,null)},u)}function Pn(t,e){return e}function $n(t,e,r,n){for(var i=[],s=e.length,a=0;a<s;a++)be(e[a].e,i,!0);var l=s>0&&i.length===0&&r!==null;if(l){var u=r.parentNode;rn(u),u.append(r),n.clear(),Z(t,e[0].prev,e[s-1].next)}hr(i,()=>{for(var o=0;o<s;o++){var f=e[o];l||(n.delete(f.k),Z(t,f.prev,f.next)),G(f.e,!l)}})}function zn(t,e,r,n,i,s=null){var a=t,l={flags:e,items:new Map,first:null};{var u=t;a=u.appendChild(Tt())}var o=null,f=!1,c=mt(()=>{var h=r();return ge(h)?h:h==null?[]:me(h)});pt(()=>{var h=E(c),v=h.length;f&&v===0||(f=v===0,kn(h,l,a,i,e,n,r),s!==null&&(v===0?o?Nt(o):o=at(()=>s(a)):o!==null&&xt(o,()=>{o=null})),E(c))})}function kn(t,e,r,n,i,s,a){var l=t.length,u=e.items,o=e.first,f=o,c,h=null,v=[],_=[],g,T,b,z;for(z=0;z<l;z+=1){if(g=t[z],T=s(g,z),b=u.get(T),b===void 0){var ut=f?f.e.nodes_start:r;h=Mn(ut,e,h,h===null?e.first:h.next,g,T,z,n,i,a),u.set(T,h),v=[],_=[],f=h.next;continue}if(Fn(b,g,z),(b.e.f&V)!==0&&Nt(b.e),b!==f){if(c!==void 0&&c.has(b)){if(v.length<_.length){var Pt=_[0],K;h=Pt.prev;var ze=v[0],ie=v[v.length-1];for(K=0;K<v.length;K+=1)Re(v[K],Pt,r);for(K=0;K<_.length;K+=1)c.delete(_[K]);Z(e,ze.prev,ie.next),Z(e,h,ze),Z(e,ie,Pt),f=Pt,h=ie,z-=1,v=[],_=[]}else c.delete(b),Re(b,f,r),Z(e,b.prev,b.next),Z(e,b,h===null?e.first:h.next),Z(e,h,b),h=b;continue}for(v=[],_=[];f!==null&&f.k!==T;)(f.e.f&V)===0&&(c??(c=new Set)).add(f),_.push(f),f=f.next;if(f===null)continue;b=f}v.push(b),h=b,f=b.next}if(f!==null||c!==void 0){for(var se=c===void 0?[]:me(c);f!==null;)(f.e.f&V)===0&&se.push(f),f=f.next;var Tr=se.length;if(Tr>0){var Sr=l===0?r:null;$n(e,se,Sr,u)}}x.first=e.first&&e.first.e,x.last=h&&h.e}function Fn(t,e,r,n){er(t.v,e),t.i=r}function Mn(t,e,r,n,i,s,a,l,u,o){var f=(u&Ur)!==0,c=(u&Yr)===0,h=f?c?jr(i):yt(i):i,v=(u&Wr)===0?a:yt(a),_={i:v,v:h,k:s,a:null,e:null,prev:r,next:n};try{return _.e=at(()=>l(t,h,v,o),tn),_.e.prev=r&&r.e,_.e.next=n&&n.e,r===null?e.first=_:(r.next=_,r.e.next=_.e),n!==null&&(n.prev=_,n.e.prev=_.e),_}finally{}}function Re(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,s=t.e.nodes_start;s!==n;){var a=jt(s);i.before(s),s=a}}function Z(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function ne(t,e,...r){var n=t,i=Xt,s;pt(()=>{i!==(i=e())&&(s&&(G(s),s=null),s=at(()=>i(n,...r)))},bt)}function In(t,e,r){var n=t,i,s;pt(()=>{i!==(i=e())&&(s&&(xt(s),s=null),i&&(s=at(()=>r(n,i))))},bt)}const De=[...` 	
\r\f \v\uFEFF`];function Ln(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var i in r)if(r[i])n=n?n+" "+i:i;else if(n.length)for(var s=i.length,a=0;(a=n.indexOf(i,a))>=0;){var l=a+s;(a===0||De.includes(n[a-1]))&&(l===n.length||De.includes(n[l]))?n=(a===0?"":n.substring(0,a))+n.substring(l+1):a=l}}return n===""?null:n}function Bn(t,e){return t==null?null:String(t)}function Ce(t,e,r,n,i,s){var a=t.__className;if(a!==r||a===void 0){var l=Ln(r,n,s);l==null?t.removeAttribute("class"):t.className=l,t.__className=r}else if(s&&i!==s)for(var u in s){var o=!!s[u];(i==null||o!==!!i[u])&&t.classList.toggle(u,o)}return s}function xr(t,e,r,n){var i=t.__style;if(i!==e){var s=Bn(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return n}const Nn=Symbol("is custom element"),Rn=Symbol("is html");function Ft(t,e,r,n){var i=Dn(t);i[e]!==(i[e]=r)&&(e==="loading"&&(t[Fr]=r),r==null?t.removeAttribute(e):typeof r!="string"&&On(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Dn(t){return t.__attributes??(t.__attributes={[Nn]:t.nodeName.includes("-"),[Rn]:t.namespaceURI===Xr})}var Oe=new Map;function On(t){var e=Oe.get(t.nodeName);if(e)return e;Oe.set(t.nodeName,e=[]);for(var r,n=t,i=Element.prototype;i!==n;){r=We(n);for(var s in r)r[s].set&&e.push(s);n=we(n)}return e}function qe(t,e){return t===e||(t==null?void 0:t[ct])===e}function ae(t={},e,r,n){return xe(()=>{var i,s;return or(()=>{i=s,s=[],Te(()=>{t!==r(...s)&&(e(t,...s),i&&qe(r(...i),t)&&e(null,...i))})}),()=>{cn(()=>{s&&qe(r(...s),t)&&e(null,...s)})}}),t}function Pe(t=!1){const e=w,r=e.l.u;if(!r)return;let n=()=>yn(e.s);if(t){let i=0,s={};const a=Qt(()=>{let l=!1;const u=e.s;for(const o in u)u[o]!==s[o]&&(s[o]=u[o],l=!0);return l&&i++,i});n=()=>E(a)}r.b.length&&ln(()=>{He(e,n),oe(r.b)}),fe(()=>{const i=Te(()=>r.m.map(zr));return()=>{for(const s of i)typeof s=="function"&&s()}}),r.a.length&&fe(()=>{He(e,n),oe(r.a)})}function He(t,e){if(t.l.s)for(const r of t.l.s)E(r);e()}function it(t,e,r,n){var i;i=t[e];var s=n,a=!0,l=()=>(a&&(a=!1,s=n),s);i===void 0&&n!==void 0&&(i=l());var u;return u=()=>{var o=t[e];return o===void 0?l():(a=!0,o)},u}function br(t){w===null&&Ze(),Et&&w.l!==null?qn(w).m.push(t):fe(()=>{const e=Te(t);if(typeof e=="function")return e})}function qn(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Hn="5";var Ue;typeof window<"u"&&((Ue=window.__svelte??(window.__svelte={})).v??(Ue.v=new Set)).add(Hn);Hr();var Un=$('<a target="_blank" rel="noopener noreferrer" class="svelte-o5z3n1"> </a>'),Wn=$('<section class="page svelte-o5z3n1" id="current-page"><span class="title svelte-o5z3n1"> <!></span> <!></section>');function tt(t,e){W(e,!0);let r=it(e,"title",3,"Some Page"),n=it(e,"style",3,""),i=it(e,"extra",3,null);var s=Wn(),a=C(s),l=C(a),u=S(l);{var o=c=>{var h=Un(),v=C(h);lt(()=>{Ft(h,"href",i().href),Ut(v,i().title)}),m(c,h)};Ae(u,c=>{i()&&c(o)})}var f=S(a,2);ne(f,()=>e.children??Xt),lt(()=>{xr(s,n()),Ut(l,`${r()??""} `)}),m(t,s),Y()}var Yn=$('<p>Welcome to the website!</p> <img src="https://picsum.photos/400/300" alt="Random" class="svelte-1yc2abm">',1);function Vn(t){tt(t,{title:"Home",children:(e,r)=>{var n=Yn();m(e,n)},$$slots:{default:!0}})}var Gn=$("<p>Page not found.</p>");function Xn(t){tt(t,{title:"Error 404",children:(e,r)=>{var n=Gn();m(e,n)},$$slots:{default:!0}})}var Kn=$('<iframe src="/main.pdf" frameborder="0" title="Thesis PDF" class="svelte-gqw2wc"></iframe>');function Zn(t){tt(t,{title:"Thesis",extra:{href:"/main.pdf",title:"Open in a new page →"},children:(e,r)=>{var n=Kn();m(e,n)},$$slots:{default:!0}})}var Jn=$("<p>Cool.</p>");function Qn(t){tt(t,{title:"About",children:(e,r)=>{var n=Jn();m(e,n)},$$slots:{default:!0}})}var jn=$('<div class="list svelte-161iceo"><!> <!> <!></div>');function ti(t){tt(t,{title:"Examples",children:(e,r)=>{var n=jn(),i=C(n);H(i,{href:"/examples/functional-animations",cssClass:"example-menu-item",children:(l,u)=>{var o=R("Functional Animations");m(l,o)},$$slots:{default:!0}});var s=S(i,2);H(s,{href:"/examples/frame-animations",cssClass:"example-menu-item",children:(l,u)=>{var o=R("Frame Animations");m(l,o)},$$slots:{default:!0}});var a=S(s,2);H(a,{href:"/examples/cellular-automatas",cssClass:"example-menu-item",children:(l,u)=>{var o=R("Cellular Automatas");m(l,o)},$$slots:{default:!0}}),m(e,n)},$$slots:{default:!0}})}class d{constructor(e=0,r=0){this.x=e,this.y=r}set(e,r){return this.x=e,this.y=r,this}add(e){return new d(this.x+e.x,this.y+e.y)}subtract(e){return new d(this.x-e.x,this.y-e.y)}multiply(e){return new d(this.x*e,this.y*e)}scale(e){return new d(this.x*e.x,this.y*e.y)}lengthSquared(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.lengthSquared())}normalize(){const e=this.length();return e===0?new d(0,0):new d(this.x/e,this.y/e)}dot(e){return this.x*e.x+this.y*e.y}clone(){return new d(this.x,this.y)}static zero(){return new d(0,0)}static one(){return new d(1,1)}}const et=class et{constructor(e,r=d.zero(),n=new d(100,100),i=d.one(),s=new d(.5,.5),a=0,l=[]){this._hasDefaultSize=!0,this.position=r,this.rotation=a,this._size=n,this._hasDefaultSize=n.x===100&&n.y===100,this.scale=i,this.pivot=s,this.renderFunction=e,this.children=l}get size(){return this._size}set size(e){this._size=e,this._hasDefaultSize=!1}get hasDefaultSize(){return this._hasDefaultSize}render(e,r=0){if(r>10){console.warn("CanvasObject: Maximum render depth exceeded, stopping rendering to prevent stack overflow.");return}if(e.save(),e.translate(this.position.x,this.position.y),e.scale(this.scale.x,this.scale.y),e.rotate(this.rotation),this.renderFunction(this,e),this.children.forEach(n=>{n.render(e,r+1)}),!et.debugMode){e.restore();return}e.fillStyle="#00ff00",e.fillRect(-2,-2,4,4),e.strokeStyle="#0000ff",e.lineWidth=1,e.strokeRect(-this.size.x*this.pivot.x,-this.size.y*this.pivot.y,this.size.x,this.size.y),e.restore()}createCopy(e){const r=new et(this.renderFunction,this.position.clone(),this.size.clone(),this.scale.clone(),this.pivot.clone(),this.rotation);return e?r.children=this.children.map(n=>n.createCopy(!0)):r.children=[],r}static setDebugMode(e){et.debugMode=e}static ellipse(e,r=null){return(n,i)=>{i.beginPath(),i.ellipse(-n.size.x*(n.pivot.x-.5),-n.size.y*(n.pivot.y-.5),n.size.x/2,n.size.y/2,0,0,Math.PI*2),i.fillStyle=e,i.fill(),r&&(i.strokeStyle=r,i.stroke())}}static rectangle(e,r=null){return(n,i)=>{i.beginPath(),i.rect(-n.size.x*n.pivot.x,-n.size.y*n.pivot.y,n.size.x,n.size.y),i.fillStyle=e,i.fill(),r&&(i.strokeStyle=r,i.stroke())}}static roundedRectangle(e,r=null,n=10){return(i,s)=>{s.beginPath(),s.roundRect(-i.size.x*i.pivot.x,-i.size.y*i.pivot.y,i.size.x,i.size.y,n),s.fillStyle=e,s.fill(),r&&(s.strokeStyle=r,s.stroke())}}static line(e,r=1){return(n,i)=>{const s=d.one().subtract(n.pivot);i.beginPath(),i.moveTo(-n.size.x*n.pivot.x,-n.size.y*n.pivot.y),i.lineTo(n.size.x*s.x,n.size.y*s.y),i.strokeStyle=e,i.lineWidth=r,i.stroke()}}static image(e){return(r,n)=>{e.isLoaded()&&n.drawImage(e.getImage(),-r.size.x*r.pivot.x,-r.size.y*r.pivot.y,r.size.x,r.size.y)}}static sprite(e,r=()=>0){return(n,i)=>{if(!e.isLoaded())return;const s=r();e.drawFrame(i,s,-n.size.x*n.pivot.x,-n.size.y*n.pivot.y,n.size.x,n.size.y)}}static staticText(e,r="16px monospace, Consolas",n="#000",i="left",s="top"){return et.dynamicText(()=>e,r,n,i,s)}static dynamicText(e,r="16px monospace, Consolas",n="#000",i="left",s="top"){return(a,l)=>{const u=e();l.font=r,l.fillStyle=n,l.textAlign=i,l.textBaseline=s,a.hasDefaultSize&&(a.size.x=1,a.size.y=1),l.fillText(u,0,0)}}static plotFunction(e,r,n={lower:-5,upper:5},i={lower:-5,upper:5},s=.1){return(a,l)=>{const u=new d((a.pivot.x-.5)*a.size.x,(a.pivot.y-.5)*a.size.y),o=new d(-a.size.x/2-u.x,-a.size.y/2-u.y);l.font="20px monospace, Consolas",l.fillStyle="#fff",l.textAlign="center",l.textBaseline="bottom",l.fillText(e,o.x+a.size.x/2,o.y);const f=1-n.upper/(n.upper-n.lower);if(f>=0&&f<=1){l.beginPath(),l.moveTo(o.x+a.size.x*f,o.y),l.lineTo(o.x+a.size.x*f,o.y+a.size.y),l.strokeStyle="#000",l.lineWidth=2,l.stroke(),l.fillStyle="#000",l.textAlign="left",l.textBaseline="top",l.fillText(i.upper.toString(),o.x+a.size.x*f+5,o.y),l.textAlign="left",l.textBaseline="bottom",l.fillText(i.lower.toString(),o.x+a.size.x*f+5,o.y+a.size.y);for(let g=Math.ceil(i.lower);g<=Math.floor(i.upper);g++){if(g===0)continue;const T=o.y+a.size.y*(1-(g-i.lower)/(i.upper-i.lower));l.beginPath(),l.moveTo(o.x,T),l.lineTo(o.x+a.size.x,T),l.strokeStyle="#00000044",l.lineWidth=2,l.stroke()}}const c=i.upper/(i.upper-i.lower);if(c>=0&&c<=1){l.beginPath(),l.moveTo(o.x,o.y+a.size.y*c),l.lineTo(o.x+a.size.x,o.y+a.size.y*c),l.strokeStyle="#000",l.lineWidth=2,l.stroke(),l.fillStyle="#000",l.textAlign="left",l.textBaseline="top",l.fillText(n.lower.toString(),o.x,o.y+a.size.y*c+5),l.textAlign="right",l.textBaseline="top",l.fillText(n.upper.toString(),o.x+a.size.x,o.y+a.size.y*c+5);for(let g=Math.ceil(n.lower);g<=Math.floor(n.upper);g++){if(g===0)continue;const T=o.x+a.size.x*((g-n.lower)/(n.upper-n.lower));l.beginPath(),l.moveTo(T,o.y),l.lineTo(T,o.y+a.size.y),l.strokeStyle="#00000044",l.lineWidth=2,l.stroke()}}l.beginPath();const h=a.size.x/(n.upper-n.lower),v=a.size.y/(i.upper-i.lower);for(let g=n.lower;g<=n.upper;g+=s){const T=r(g);l.lineTo(o.x+(g-n.lower)*h,o.y+a.size.y-(T-i.lower)*v)}l.strokeStyle="#ff5722",l.lineWidth=4,l.stroke();const _=r(0);_>=i.lower&&_<=i.upper&&f>=0&&f<=1&&(l.beginPath(),l.ellipse(o.x+a.size.x*f,o.y+a.size.y*c-_*v,5,5,0,0,Math.PI*2),l.fillStyle="#f00",l.fill())}}};et.debugMode=!1;let p=et;class Ct{constructor(e,r,n){this.wrapper=e,this.context=r,this.time=n}render(){}static provide(){return(e,r,n)=>new this(e,r,n)}}class ei{constructor(){this.delta=0,this.now=0}}class ri extends Ct{constructor(e,r,n){super(e,r,n);const i=e.resolution;this.halfResolution=i.multiply(.5),this.objects={text:new p(p.staticText("Please provide a scene implementation.","32px Consolas, monospace","white","center","middle"),this.halfResolution,i)}}render(){this.objects.text.rotation=Math.sin(this.time.now*5)*Math.PI*.025,this.objects.text.render(this.context)}}const Gt=class Gt{constructor(e,r,n){if(this._time=new ei,this._startTime=0,this._resolution=new d(1280,720),this._resolutionScale=1,this._dpi=globalThis.devicePixelRatio||2,this._scene=null,this._glHandler=null,this._instanceId=Gt.IdCounter++,this._startTime=-1,this._canvas=e,this._wrapperElement=r,this._context=e.getContext("2d"),this._scene=n(this,this._context,this._time),this._scene===null&&(this._scene=new ri(this,this._context,this._time)),!this._context)throw new Error("Failed to get 2D context from canvas");globalThis.requestAnimationFrame(this.onRenderFrame.bind(this));const i=()=>{this._canvas.width=this._wrapperElement.clientWidth*this._dpi*this._resolutionScale,this._canvas.height=this._wrapperElement.clientHeight*this._dpi*this._resolutionScale};globalThis.addEventListener("resize",i.bind(this)),i()}get resolution(){return this._resolution}get clientSize(){return new d(this._wrapperElement.clientWidth,this._wrapperElement.clientHeight)}onRenderFrame(e){const r=e/1e3;this._startTime<0&&(this._startTime=r),this._time.delta=r-this._startTime-this._time.now,this._time.now=r-this._startTime,this.setupTransformations(),this._scene.render(),this.drawDebugInfo(),globalThis.requestAnimationFrame(this.onRenderFrame.bind(this))}setupTransformations(){this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._context.fillStyle="#000",this._context.fillRect(0,0,this._canvas.width,this._canvas.height);const e=this._canvas.width/this._resolution.x,r=this._canvas.height/this._resolution.y,n=Math.min(e,r),i=(this._canvas.width-this._resolution.x*n)/2,s=(this._canvas.height-this._resolution.y*n)/2;this._context.setTransform(n,0,0,n,i,s),this._context.fillStyle="#444",this._context.fillRect(0,0,this._resolution.x,this._resolution.y),this._context.strokeStyle="white",this._context.strokeRect(0,0,this._resolution.x,this._resolution.y)}drawDebugInfo(){this._context.fillStyle="#00000044",this._context.fillRect(0,0,200,100),this._context.fillStyle="white",this._context.font="16px Consolas, monospace",this._context.textAlign="left",this._context.textBaseline="alphabetic",this._context.fillText(`(${this._instanceId}) Debug Info`,10,20),this._context.beginPath(),this._context.moveTo(10,30),this._context.lineTo(190,30),this._context.strokeStyle="white",this._context.stroke(),this._context.fillText(`Delta : ${(this._time.delta*1e3).toFixed(2).padStart(5,"0")}ms`,10,50),this._context.fillText(`Now   : ${this._time.now.toFixed(2)}s`,10,70),this._context.fillText(`Canvas: ${this._canvas.width}x${this._canvas.height}`,10,90)}getTextSize(e){const r=this._context.measureText(e);return new d(r.actualBoundingBoxLeft+r.actualBoundingBoxRight,r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}getWebGLContext(){if(this._glHandler)return this._glHandler._glContext;const e=document.createElement("canvas");if(e.classList.add("webgl-canvas"),this._glHandler={_glCanvas:e,_glContext:e.getContext("webgl2"),_glResolution:new d(1280,720)},!this._glHandler._glContext)return console.error("WebGL context is not available."),null;const r=()=>{this._glHandler._glCanvas.width=this._wrapperElement.clientWidth,this._glHandler._glCanvas.height=this._wrapperElement.clientHeight;const n=this._wrapperElement.clientWidth/this._resolution.x,i=this._wrapperElement.clientHeight/this._resolution.y,s=Math.min(n,i),a=(this._wrapperElement.clientWidth-this._resolution.x*s)/2,l=(this._wrapperElement.clientHeight-this._resolution.y*s)/2;this._glHandler._glResolution.x=this._resolution.x*s,this._glHandler._glResolution.y=this._resolution.y*s,this._glHandler._glContext.viewport(a,l,this._resolution.x*s,this._resolution.y*s)};return globalThis.addEventListener("resize",r.bind(this)),setTimeout(r.bind(this),1),this._wrapperElement.insertBefore(this._glHandler._glCanvas,this._canvas),this._glHandler._glContext}};Gt.IdCounter=0;let ve=Gt;var ni=()=>p.setDebugMode(!p.debugMode),ii=$('<div class="canvas-wrapper svelte-2j3np0"><button class="fullscreen svelte-2j3np0"><span>⛶</span></button> <button class="debugMode svelte-2j3np0"><span>🛠️</span></button> <canvas width="200" height="100"></canvas></div>');function Wt(t,e){W(e,!0);let r=e.scene||(()=>null),n,i,s,a=N(!1);br(()=>{new ve(n,i,r),s.addEventListener("click",()=>{if(document.fullscreenElement){document.exitFullscreen().catch(c=>{console.error("Failed to exit fullscreen mode:",c)}),F(a,!1);return}i.requestFullscreen().catch(c=>{console.error("Failed to enter fullscreen mode:",c)}),F(a,!0)}),document.addEventListener("fullscreenchange",()=>{document.fullscreenElement||F(a,!1)})});var l=ii(),u=C(l);ae(u,c=>s=c,()=>s);var o=S(u,2);o.__click=[ni];var f=S(o,2);ae(f,c=>n=c,()=>n),ae(l,c=>i=c,()=>i),lt(()=>Ce(f,1,`canvas ${E(a)?"fullscreen":""}`,"svelte-2j3np0")),m(t,l),Y()}Se(["click"]);var si=$('<button role="tab"> </button>'),li=$('<div class="tabs"><div class="tab-buttons svelte-12g5vdc" role="tablist"></div> <div class="tab-contents svelte-12g5vdc"><!></div></div>');function $e(t,e){W(e,!0);let r=J([]),n=N(0);Zr("tabs",{registerTab:u=>(r.push(u),r.length-1),activeTab:()=>E(n)});var i=li(),s=C(i);zn(s,21,()=>r,Pn,(u,o,f)=>{var c=si();c.__click=()=>F(n,f,!0);let h;var v=C(c);lt(_=>{h=Ce(c,1,"svelte-12g5vdc",null,h,_),Ut(v,E(o).title)},[()=>({active:E(n)===f})]),m(u,c)});var a=S(s,2),l=C(a);ne(l,()=>e.children??Xt),m(t,i),Y()}Se(["click"]);var ai=$('<div class="tab-panel svelte-fai8lk" role="tabpanel"><!></div>');function Yt(t,e){W(e,!0);const{registerTab:r,activeTab:n}=Kr("tabs");let i=N(-1);br(()=>{F(i,r({title:e.title}),!0)});var s=yr(),a=te(s);{var l=u=>{var o=ai(),f=C(o);ne(f,()=>e.children),m(u,o)};Ae(a,u=>{E(i)===n()&&u(l)})}m(t,s),Y()}class oi extends Ct{constructor(e,r,n){super(e,r,n),this.objects={xPlot:new p(p.plotFunction("f(x) = cos(x + t)",i=>Math.cos(i+n.now),{lower:-1,upper:6},{lower:-2,upper:2},.1),new d(950,240),new d(300,200),new d(1,1),new d(.5,.5),0),yPlot:new p(p.plotFunction("f(y) = sin(y + t)",i=>Math.sin(i+n.now),{lower:-1,upper:6},{lower:-2,upper:2},.1),new d(950,480),new d(300,200),new d(1,1),new d(.5,.5),0),pathCircle:new p(p.ellipse("transparent","#000"),new d(350,360),new d(400,400),new d(1,1),new d(.5,.5),0),circle:new p(p.ellipse("#3c434d","#ff8a50"),new d(350,360),new d(50,50),new d(1,1),new d(.5,.5),0)}}render(){this.objects.xPlot.render(this.context),this.objects.yPlot.render(this.context),this.objects.pathCircle.render(this.context),this.objects.circle.position=new d(350+200*Math.cos(this.time.now),360+200*Math.sin(this.time.now)),this.objects.circle.render(this.context)}}function ui(t,e){W(e,!1),Pe(),tt(t,{title:"Functional Animations",children:(r,n)=>{$e(r,{children:(i,s)=>{Yt(i,{title:"Simple example",children:(a,l)=>{const u=mt(()=>oi.provide());Wt(a,{get scene(){return E(u)}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Y()}const rt=class rt{constructor(e){if(this.loaded=!1,this.size=new d(-1,-1),this.image=rt.cache.get(e)||new Image,!rt.cache.has(e))this.image.src=e,rt.cache.set(e,this.image);else{this.loaded=!0;const r=rt.cache.get(e);this.size.set(r.width,r.height)}this.image.onload=()=>{this.loaded=!0,this.size.set(this.image.width,this.image.height)}}isLoaded(){return this.loaded}getImage(){return this.loaded||console.warn(`Image at ${this.image.src} is not loaded yet.`),this.image}};rt.cache=new Map;let _e=rt;const nt=class nt extends _e{constructor(e,r,n,i=r*n){super(e),this.framesX=r,this.framesY=n,this.frameCount=i}drawFrame(e,r,n,i,s,a){if(!this.isLoaded()){console.warn(`Spritesheet at ${this.image.src} is not loaded yet.`);return}const l=r%this.frameCount,u=this.image.width/this.framesX,o=this.image.height/this.framesY,f=l%this.framesX*u,c=Math.floor(l/this.framesX)*o;e.drawImage(this.image,f+nt.BIAS,c+nt.BIAS,u-nt.BIAS*2,o-nt.BIAS*2,n,i,s,a)}};nt.BIAS=.5;let ht=nt;class Mt{constructor(e,r,n){this.background=new p(p.roundedRectangle("rgba(0, 0, 0, 0.5)","black",8),e,r.clone(),new d(1,1),new d(0,0)),this.foreground=new p(p.roundedRectangle("rgba(0, 255, 0, 0.5)","green",8),new d(0,0),r.clone(),new d(1,1),new d(0,0)),this.text=new p(p.dynamicText(n,"24px Consolas, monospace","white","left","middle"),new d(0,-12)),this.background.children.push(this.foreground,this.text)}render(e){this.background.render(e)}setProgress(e){this.foreground.size.x=this.background.size.x*e}}class fi extends Ct{constructor(e,r,n){super(e,r,n),this.textures={cat:new ht("/cat-spritesheet.webp",12,14,158)},this.objects={cat:new p(p.sprite(this.textures.cat,()=>Math.floor(n.now*24)),new d(1280/2,720/2),new d(256,256)),progressBar:new Mt(new d(256/2,592),new d(1024,32),()=>`Frame: ${Math.floor(n.now*24)%158} / 158`)}}render(){this.objects.cat.render(this.context),this.objects.progressBar.setProgress(Math.round(this.time.now*24)/158%1),this.objects.progressBar.render(this.context)}}class ci extends Ct{constructor(e,r,n){super(e,r,n),this.textures={cat1:new ht("/cat-spritesheet.webp",12,14,158),cat2:new ht("/cat-alt-spritesheet.webp",9,8,71),cat3:new ht("/cat-alt-02-spritesheet.webp",9,8,68)},this.objects={cat1:new p(p.sprite(this.textures.cat1,()=>Math.floor(n.now*24)),new d(0,200),new d(200,200),new d(1,1),new d(.5,0),0),cat2:new p(p.sprite(this.textures.cat2,()=>Math.floor(n.now*24)),new d(0,150),new d(200,200),new d(1,1),new d(.5,0),0),cat3:new p(p.sprite(this.textures.cat3,()=>Math.floor(n.now*24)),new d(640,100),new d(200,150),new d(1,1),new d(.5,0),0),texts:{cat1:new p(p.staticText("Cat 1: 158 frames","24px Consolas, monospace","white","center","middle")),cat2:new p(p.staticText("Cat 2: 71 frames","24px Consolas, monospace","white","center","middle")),cat3:new p(p.staticText("Cat 3: 68 frames","24px Consolas, monospace","white","center","middle"))},progressBars:{cat1:new Mt(new d(50,518),new d(128,24),()=>`Cat 1: ${Math.floor(n.now*24)%158+1} / 158`),cat2:new Mt(new d(50,582),new d(128,24),()=>`Cat 2: ${Math.floor(n.now*24)%71+1} / 71`),cat3:new Mt(new d(50,646),new d(128,24),()=>`Cat 3: ${Math.floor(n.now*24)%68+1} / 68`)}},this.objects.cat3.children.push(this.objects.texts.cat3,this.objects.cat2),this.objects.cat2.children.push(this.objects.texts.cat2,this.objects.cat1),this.objects.cat1.children.push(this.objects.texts.cat1)}render(){this.objects.cat1.rotation=Math.sin(this.time.now*2)*.75,this.objects.cat2.rotation=Math.sin(this.time.now*3)*.5,this.objects.cat3.rotation=Math.sin(this.time.now*4)*.5,this.objects.cat3.render(this.context),this.objects.progressBars.cat1.setProgress(Math.round(this.time.now*24)/158%1),this.objects.progressBars.cat2.setProgress(Math.round(this.time.now*24)/71%1),this.objects.progressBars.cat3.setProgress(Math.round(this.time.now*24)/68%1),this.objects.progressBars.cat1.render(this.context),this.objects.progressBars.cat2.render(this.context),this.objects.progressBars.cat3.render(this.context)}}var hi=$("<!> <!>",1);function di(t,e){W(e,!1),Pe(),tt(t,{title:"Frame Animations",children:(r,n)=>{$e(r,{children:(i,s)=>{var a=hi(),l=te(a);Yt(l,{title:"Simple",children:(o,f)=>{const c=mt(()=>fi.provide());Wt(o,{get scene(){return E(c)}})},$$slots:{default:!0}});var u=S(l,2);Yt(u,{title:"Complex",children:(o,f)=>{const c=mt(()=>ci.provide());Wt(o,{get scene(){return E(c)}})},$$slots:{default:!0}}),m(i,a)},$$slots:{default:!0}})},$$slots:{default:!0}}),Y()}class vi extends Ct{constructor(e,r,n){super(e,r,n),this.quad={vertices:new Float32Array([-1,-1,0,-1,1,0,1,-1,0,1,1,0]),indices:new Uint16Array([0,1,2,3]),vbo:null,ibo:null,vao:null},this.shaders={vertex:`#version 300 es
            in vec3 a_position;
            out vec2 v_uv;
            void main() {
                gl_Position = vec4(a_position, 1.0);
                v_uv = (a_position.xy + vec2(1.0, 1.0)) * 0.5;
            }
        `,fragment:`#version 300 es
            precision mediump float;
            in vec2 v_uv;
            out vec4 outColor;
            
            void main() {
                vec2 uv = v_uv;
                vec2 tileUV = uv * vec2(160.0, 90.0);

                // Figure out the tile index based on the UV coordinates
                int tileX = int(floor(tileUV.x));
                int tileY = int(floor(tileUV.y));

                // Checkerboard
                if ((tileX + tileY) % 2 == 0) {
                    outColor = vec4(1.0, 1.0, 1.0, 1.0); // White tile
                } else {
                    outColor = vec4(0.0, 0.0, 0.0, 1.0); // Black tile
                }
            }
        `,program:null};const i=e.getWebGLContext();if(!i)throw new Error("WebGL2 context is not available.");this.gl=i,this.quad.vbo=this.gl.createBuffer(),this.quad.ibo=this.gl.createBuffer(),this.quad.vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this.quad.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.quad.vbo),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.quad.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.quad.ibo),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.quad.indices,this.gl.STATIC_DRAW),this.shaders.program=this.gl.createProgram();const s=this.gl.createShader(this.gl.VERTEX_SHADER);this.gl.shaderSource(s,this.shaders.vertex),this.gl.compileShader(s),this.gl.getShaderParameter(s,this.gl.COMPILE_STATUS)||console.error("Vertex shader compilation failed:",this.gl.getShaderInfoLog(s));const a=this.gl.createShader(this.gl.FRAGMENT_SHADER);this.gl.shaderSource(a,this.shaders.fragment),this.gl.compileShader(a),this.gl.getShaderParameter(a,this.gl.COMPILE_STATUS)||console.error("Fragment shader compilation failed:",this.gl.getShaderInfoLog(a)),this.gl.attachShader(this.shaders.program,s),this.gl.attachShader(this.shaders.program,a),this.gl.linkProgram(this.shaders.program),this.gl.getProgramParameter(this.shaders.program,this.gl.LINK_STATUS)||console.error("Shader program linking failed:",this.gl.getProgramInfoLog(this.shaders.program)),this.gl.useProgram(this.shaders.program);const l=this.gl.getAttribLocation(this.shaders.program,"a_position");this.gl.vertexAttribPointer(l,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(l),this.gl.bindVertexArray(null),this.gl.deleteShader(s),this.gl.deleteShader(a),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}render(){if(!this.gl){console.error("WebGL context is not initialized.");return}this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.gl.useProgram(this.shaders.program),this.gl.bindVertexArray(this.quad.vao),this.gl.drawElements(this.gl.TRIANGLE_STRIP,this.quad.indices.length,this.gl.UNSIGNED_SHORT,0),this.gl.bindVertexArray(null)}}function _i(t,e){W(e,!1),Pe(),tt(t,{title:"Cellular Automatas",children:(r,n)=>{$e(r,{children:(i,s)=>{Yt(i,{title:"Conway's Game of Life",children:(a,l)=>{const u=mt(()=>vi.provide());Wt(a,{get scene(){return E(u)}})},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),Y()}const Er=[],pi=[{href:"/",component:Vn,title:"Home"},{href:"/404",component:Xn,title:"404"},{href:"/thesis",component:Zn,title:"Thesis"},{href:"/about",component:Qn,title:"About"},{href:"/examples",component:ti,title:"Examples"},{href:"/examples/functional-animations",component:ui,title:"Functional Animations"},{href:"/examples/frame-animations",component:di,title:"Frame Animations"},{href:"/examples/cellular-automatas",component:_i,title:"Cellular Automatas"}],Vt=pi.reduce((t,e)=>(t[e.href]=e,t),{});let pe=Vt[globalThis.location.pathname]??Vt["/404"];function gi(t){globalThis.history.pushState({},"",t),pe=Vt[t]??Vt["/404"],Er.forEach(e=>e(pe))}function mi(){return pe}function wi(t){Er.push(t)}function yi(t,e,r){e()===""&&(t.preventDefault(),t.stopPropagation(),gi(r.href))}var xi=$("<a><!> <!></a>");function H(t,e){W(e,!0);let r=it(e,"style",3,""),n=it(e,"cssClass",3,""),i=it(e,"target",3,""),s=it(e,"rel",3,"");var a=xi();a.__click=[yi,i,e];var l=C(a);ne(l,()=>e.children??Xt);var u=S(l,2);{var o=f=>{var c=R();lt(()=>Ut(c,e.href)),m(f,c)};Ae(u,f=>{e.children||f(o)})}lt(()=>{Ft(a,"href",e.href),xr(a,r()),Ft(a,"target",i()),Ft(a,"rel",s()),Ce(a,1,`link ${n()??""}`,"svelte-1iwy9kf")}),m(t,a),Y()}Se(["click"]);var bi=$('<header class="svelte-1xgxzs1"><!> <nav class="svelte-1xgxzs1"><!> <!> <!> <!></nav></header>');function Ei(t){var e=bi(),r=C(e);H(r,{href:"/",cssClass:"navbar-title",children:(u,o)=>{var f=R("Emergent Animations");m(u,f)},$$slots:{default:!0}});var n=S(r,2),i=C(n);H(i,{cssClass:"navbar-link",href:"/",children:(u,o)=>{var f=R("Home");m(u,f)},$$slots:{default:!0}});var s=S(i,2);H(s,{cssClass:"navbar-link",href:"/thesis",children:(u,o)=>{var f=R("Thesis");m(u,f)},$$slots:{default:!0}});var a=S(s,2);H(a,{cssClass:"navbar-link",href:"/examples",children:(u,o)=>{var f=R("Examples");m(u,f)},$$slots:{default:!0}});var l=S(a,2);H(l,{cssClass:"navbar-link",href:"/about",children:(u,o)=>{var f=R("About");m(u,f)},$$slots:{default:!0}}),m(t,e)}function Ti(t,e){W(e,!0);let r=N(J(mi())),n=Ie(()=>{var u;return(u=E(r))==null?void 0:u.component}),i=Ie(()=>{var u;return((u=E(r))==null?void 0:u.title)||"*"}),s=null;wi(u=>{E(r).href!=u.href&&(s&&clearTimeout(s),document.getElementById("current-page").classList.add("fade-out"),s=setTimeout(()=>{F(r,u,!0),document.getElementById("current-page").classList.remove("fade-out")},150))});var a=yr();En(u=>{lt(()=>nr.title=`Emergent Animations - ${E(i)??""}`)});var l=te(a);In(l,()=>E(n),(u,o)=>{o(u,{})}),m(t,a),Y()}var Si=$('<!> <main class="svelte-7hgqb0"><!></main> <footer class="svelte-7hgqb0"><span>Created by <!> using <!> ❤️</span></footer>',1);function Ai(t){var e=Si(),r=te(e);Ei(r);var n=S(r,2),i=C(n);Ti(i,{});var s=S(n,2),a=C(s),l=S(C(a));H(l,{href:"https://github.com/KissKonradUni/emergent-animations",target:"_blank",rel:"noopener noreferrer",children:(o,f)=>{var c=R("Konrád Soma Kiss");m(o,c)},$$slots:{default:!0}});var u=S(l,2);H(u,{href:"https://svelte.dev",target:"_blank",rel:"noopener noreferrer",children:(o,f)=>{var c=R("Svelte");m(o,c)},$$slots:{default:!0}}),m(t,e)}Sn(Ai,{target:document.body});
